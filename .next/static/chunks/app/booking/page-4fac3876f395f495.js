(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{8024:function(e,t,s){Promise.resolve().then(s.bind(s,4446))},4446:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var o=s(7437),i=s(6555),r=s(2265);let n=s(357).env.NEXT_PUBLIC_CALENDLY_URL,a=["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM"];function l(){let{t:e}=(0,i.$)(),[t,s]=(0,r.useState)({firstName:"",lastName:"",phone:"",email:"",service:"",date:"",time:"",notes:""}),[l,c]=(0,r.useState)(!1),[m,d]=(0,r.useState)({}),[u,f]=(0,r.useState)(!1);(0,r.useMemo)(()=>{let t=[];return e.services.categories.forEach(e=>{e.items.forEach(s=>{t.push({value:s.name.toLowerCase().replace(/\s+/g,"-"),label:"".concat(s.name," - ").concat(s.price),category:e.name})})}),t},[e.services.categories]),(0,r.useEffect)(()=>{if(!n)return;let e=document.createElement("script");return e.src="https://assets.calendly.com/assets/external/widget.js",e.async=!0,e.onload=()=>f(!0),document.body.appendChild(e),()=>{e.remove()}},[]);let h=e=>{let{name:t,value:o}=e.target;s(e=>({...e,[t]:o})),m[t]&&d(e=>({...e,[t]:""}))},b=()=>{let s={};return t.firstName.trim()||(s.firstName=e.booking.form.required),t.lastName.trim()||(s.lastName=e.booking.form.required),t.phone.trim()||(s.phone=e.booking.form.required),t.email.trim()||(s.email=e.booking.form.required),t.service||(s.service=e.booking.form.required),t.date||(s.date=e.booking.form.required),t.time||(s.time=e.booking.form.required),t.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)&&(s.email=e.booking.form.invalidEmail),t.phone&&!/^[\d\s\-\+\(\)]+$/.test(t.phone)&&(s.phone=e.booking.form.invalidPhone),t.date&&new Date(t.date)<new Date&&(s.date=e.booking.form.pastDate),d(s),0===Object.keys(s).length},x=async e=>{if(e.preventDefault(),b())try{let e=await fetch("/api/admin/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok)c(!0),setTimeout(()=>{c(!1),s({firstName:"",lastName:"",phone:"",email:"",service:"",date:"",time:"",notes:""})},3e3);else{let t=await e.json();console.error("Booking failed:",t),c(!0),setTimeout(()=>{c(!1),s({firstName:"",lastName:"",phone:"",email:"",service:"",date:"",time:"",notes:""})},3e3)}}catch(e){console.error("Booking error:",e),c(!0),setTimeout(()=>{c(!1),s({firstName:"",lastName:"",phone:"",email:"",service:"",date:"",time:"",notes:""})},3e3)}},p=(0,r.useMemo)(()=>({"@context":"https://schema.org","@type":"BeautySalon",name:"Fifi Hair Salon",address:{"@type":"PostalAddress",streetAddress:"123 Beauty St",addressLocality:"Hair City",postalCode:"00000",addressCountry:"US"},telephone:"+1-555-123-1234",url:"https://fifi-salon.example",sameAs:["https://instagram.com/your-salon","https://facebook.com/your-salon"]}),[]);return(0,o.jsxs)("main",{className:"container py-16 bg-gradient-to-br from-pink-light to-green-light min-h-screen",children:[(0,o.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsxs)("a",{href:"/",className:"inline-flex items-center gap-2 text-accent hover:text-accent-strong transition-colors",children:[(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]})}),(0,o.jsxs)("div",{className:"text-center mb-8",children:[(0,o.jsx)("h1",{className:"font-serif text-4xl md:text-5xl text-ink",children:e.booking.title}),(0,o.jsx)("p",{className:"mt-4 text-lg text-muted",children:e.booking.subtitle})]}),n?(0,o.jsxs)("div",{className:"mt-8",children:[(0,o.jsx)("div",{className:"calendly-inline-widget rounded-2xl ring-1 ring-black/5 shadow-soft","data-url":n,style:{minWidth:"320px",height:740}}),(0,o.jsx)("noscript",{children:(0,o.jsx)("a",{className:"underline",href:n,children:"Open booking"})})]}):(0,o.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-soft ring-1 ring-accent/20 relative overflow-hidden",children:[(0,o.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-accent/10 rounded-full blur-3xl"}),(0,o.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-accent/10 rounded-full blur-2xl"}),(0,o.jsxs)("form",{onSubmit:x,className:"space-y-6 relative z-10",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{className:"font-serif text-2xl text-ink mb-4",children:[e.booking.form.firstName," & ",e.booking.form.lastName]}),(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.firstName," *"]}),(0,o.jsx)("input",{id:"firstName",name:"firstName",type:"text",value:t.firstName,onChange:h,className:"w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ".concat(m.firstName?"border-red-500":"border-accent/30 hover:border-accent/50"),placeholder:e.booking.form.firstName}),m.firstName&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m.firstName})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.lastName," *"]}),(0,o.jsx)("input",{id:"lastName",name:"lastName",type:"text",value:t.lastName,onChange:h,className:"w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ".concat(m.lastName?"border-red-500":"border-accent/30 hover:border-accent/50"),placeholder:e.booking.form.lastName}),m.lastName&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m.lastName})]})]}),(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.phone," *"]}),(0,o.jsx)("input",{id:"phone",name:"phone",type:"tel",value:t.phone,onChange:h,className:"w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ".concat(m.phone?"border-red-500":"border-accent/30 hover:border-accent/50"),placeholder:"(555) 123-4567"}),m.phone&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m.phone})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.email," *"]}),(0,o.jsx)("input",{id:"email",name:"email",type:"email",value:t.email,onChange:h,className:"w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ".concat(m.email?"border-red-500":"border-accent/30 hover:border-accent/50"),placeholder:"your@email.com"}),m.email&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m.email})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{className:"font-serif text-2xl text-ink mb-4",children:e.booking.form.service}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"service",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.service," *"]}),(0,o.jsxs)("select",{id:"service",name:"service",value:t.service,onChange:h,className:"w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ".concat(m.service?"border-red-500":"border-accent/30 hover:border-accent/50"),children:[(0,o.jsx)("option",{value:"",children:"Select a service"}),e.services.categories.map(e=>(0,o.jsx)("optgroup",{label:e.name,children:e.items.map(e=>(0,o.jsxs)("option",{value:e.name.toLowerCase().replace(/\s+/g,"-"),children:[e.name," - ",e.price]},e.name))},e.name))]}),m.service&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m.service}),(0,o.jsx)("p",{className:"mt-2 text-xs text-muted italic",children:e.services.priceNote})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("h2",{className:"font-serif text-2xl text-ink mb-4",children:[e.booking.form.date," & ",e.booking.form.time]}),(0,o.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"date",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.date," *"]}),(0,o.jsx)("input",{id:"date",name:"date",type:"date",value:t.date,onChange:h,min:new Date().toISOString().split("T")[0],className:"w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ".concat(m.date?"border-red-500":"border-accent/30 hover:border-accent/50")}),m.date&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m.date})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"time",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.time," *"]}),(0,o.jsxs)("select",{id:"time",name:"time",value:t.time,onChange:h,className:"w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ".concat(m.time?"border-red-500":"border-accent/30 hover:border-accent/50"),children:[(0,o.jsx)("option",{value:"",children:"Choose a time"}),a.map(e=>(0,o.jsx)("option",{value:e,children:e},e))]}),m.time&&(0,o.jsx)("p",{className:"mt-1 text-sm text-red-500",children:m.time})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"notes",className:"block text-sm font-medium text-ink mb-2",children:e.booking.form.notes}),(0,o.jsx)("textarea",{id:"notes",name:"notes",value:t.notes,onChange:h,rows:4,className:"w-full rounded-2xl border border-accent/30 px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors hover:border-accent/50",placeholder:e.booking.form.notesPlaceholder})]}),(0,o.jsxs)("div",{className:"pt-4",children:[(0,o.jsx)("button",{type:"submit",disabled:l,className:"w-full rounded-full px-8 py-4 text-lg font-medium shadow-sm bg-gradient-to-r from-accent to-green-accent hover:from-accent-strong hover:to-green-accent/80 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105",children:l?e.booking.form.submitted:e.booking.form.submit}),l&&(0,o.jsx)("div",{className:"mt-4 p-6 bg-green-50 border border-green-200 rounded-2xl",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"text-4xl mb-2",children:"\uD83C\uDF89"}),(0,o.jsx)("p",{className:"text-green-800 text-lg font-medium mb-2",children:e.booking.form.successMessage}),(0,o.jsx)("p",{className:"text-green-700 text-sm",children:"Your appointment has been successfully booked and will appear in the admin dashboard."})]})})]})]})]})]}),(0,o.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(p)}})]})}},357:function(e,t,s){"use strict";var o,i;e.exports=(null==(o=s.g.process)?void 0:o.env)&&"object"==typeof(null==(i=s.g.process)?void 0:i.env)?s.g.process:s(8081)},8081:function(e){!function(){var t={229:function(e){var t,s,o,i=e.exports={};function r(){throw Error("setTimeout has not been defined")}function n(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{s="function"==typeof clearTimeout?clearTimeout:n}catch(e){s=n}}();var l=[],c=!1,m=-1;function d(){c&&o&&(c=!1,o.length?l=o.concat(l):m=-1,l.length&&u())}function u(){if(!c){var e=a(d);c=!0;for(var t=l.length;t;){for(o=l,l=[];++m<t;)o&&o[m].run();m=-1,t=l.length}o=null,c=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===n||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];l.push(new f(e,t)),1!==l.length||c||a(u)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},s={};function o(e){var i=s[e];if(void 0!==i)return i.exports;var r=s[e]={exports:{}},n=!0;try{t[e](r,r.exports,o),n=!1}finally{n&&delete s[e]}return r.exports}o.ab="//";var i=o(229);e.exports=i}()}},function(e){e.O(0,[555,971,23,744],function(){return e(e.s=8024)}),_N_E=e.O()}]);
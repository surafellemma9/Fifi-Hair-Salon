"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/appointments/route";
exports.ids = ["app/api/admin/appointments/route"];
exports.modules = {

/***/ "better-sqlite3":
/*!*********************************!*\
  !*** external "better-sqlite3" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("better-sqlite3");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fappointments%2Froute&page=%2Fapi%2Fadmin%2Fappointments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fappointments%2Froute.ts&appDir=%2FUsers%2Fsurafellemma%2FDesktop%2FFifi%20Hair%20Salon%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsurafellemma%2FDesktop%2FFifi%20Hair%20Salon&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fappointments%2Froute&page=%2Fapi%2Fadmin%2Fappointments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fappointments%2Froute.ts&appDir=%2FUsers%2Fsurafellemma%2FDesktop%2FFifi%20Hair%20Salon%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsurafellemma%2FDesktop%2FFifi%20Hair%20Salon&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_surafellemma_Desktop_Fifi_Hair_Salon_app_api_admin_appointments_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/appointments/route.ts */ \"(rsc)/./app/api/admin/appointments/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/appointments/route\",\n        pathname: \"/api/admin/appointments\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/appointments/route\"\n    },\n    resolvedPagePath: \"/Users/surafellemma/Desktop/Fifi Hair Salon/app/api/admin/appointments/route.ts\",\n    nextConfigOutput,\n    userland: _Users_surafellemma_Desktop_Fifi_Hair_Salon_app_api_admin_appointments_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/admin/appointments/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRmFwcG9pbnRtZW50cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWRtaW4lMkZhcHBvaW50bWVudHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZG1pbiUyRmFwcG9pbnRtZW50cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN1cmFmZWxsZW1tYSUyRkRlc2t0b3AlMkZGaWZpJTIwSGFpciUyMFNhbG9uJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnN1cmFmZWxsZW1tYSUyRkRlc2t0b3AlMkZGaWZpJTIwSGFpciUyMFNhbG9uJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUMrQjtBQUM1RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZpZmktaGFpci1zYWxvbi8/NTQ4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvc3VyYWZlbGxlbW1hL0Rlc2t0b3AvRmlmaSBIYWlyIFNhbG9uL2FwcC9hcGkvYWRtaW4vYXBwb2ludG1lbnRzL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi9hcHBvaW50bWVudHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9hcHBvaW50bWVudHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL2FwcG9pbnRtZW50cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy9zdXJhZmVsbGVtbWEvRGVza3RvcC9GaWZpIEhhaXIgU2Fsb24vYXBwL2FwaS9hZG1pbi9hcHBvaW50bWVudHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FkbWluL2FwcG9pbnRtZW50cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fappointments%2Froute&page=%2Fapi%2Fadmin%2Fappointments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fappointments%2Froute.ts&appDir=%2FUsers%2Fsurafellemma%2FDesktop%2FFifi%20Hair%20Salon%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsurafellemma%2FDesktop%2FFifi%20Hair%20Salon&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/admin/appointments/route.ts":
/*!*********************************************!*\
  !*** ./app/api/admin/appointments/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/database */ \"(rsc)/./lib/database.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n\n// Initialize database manager\nconst db = _lib_database__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getInstance();\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const date = searchParams.get(\"date\");\n        const status = searchParams.get(\"status\");\n        // Get appointments with optional filtering\n        const filters = {};\n        if (date) filters.date = date;\n        if (status) filters.status = status;\n        const appointments = db.getAppointments(filters);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            appointments,\n            total: appointments.length\n        });\n    } catch (error) {\n        console.error(\"Error fetching appointments:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Failed to fetch appointments\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const appointmentData = await request.json();\n        // Validate required fields\n        const requiredFields = [\n            \"firstName\",\n            \"lastName\",\n            \"service\",\n            \"date\",\n            \"time\",\n            \"phone\",\n            \"email\"\n        ];\n        for (const field of requiredFields){\n            if (!appointmentData[field]) {\n                return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                    error: `Missing required field: ${field}`\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Set default status if not provided\n        if (!appointmentData.status) {\n            appointmentData.status = \"scheduled\";\n        }\n        // Create new appointment using database\n        const result = db.createAppointment(appointmentData);\n        if (!result.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: result.errors?.join(\", \") || \"Failed to create appointment\"\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            appointment: result.appointment,\n            message: \"Appointment created successfully\"\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error creating appointment:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Failed to create appointment\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get(\"id\");\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Appointment ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        const updateData = await request.json();\n        // Update appointment using database\n        const result = db.updateAppointment(id, updateData);\n        if (!result.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: result.errors?.join(\", \") || \"Failed to update appointment\"\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            appointment: result.appointment,\n            message: \"Appointment updated successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error updating appointment:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Failed to update appointment\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PATCH(request) {\n    try {\n        const { id, status } = await request.json();\n        if (!id || !status) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Appointment ID and status are required\"\n            }, {\n                status: 400\n            });\n        }\n        const validStatuses = [\n            \"scheduled\",\n            \"completed\",\n            \"cancelled\",\n            \"no-show\"\n        ];\n        if (!validStatuses.includes(status)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Invalid status. Must be one of: scheduled, completed, cancelled, no-show\"\n            }, {\n                status: 400\n            });\n        }\n        // Update appointment status using database\n        const result = db.updateAppointmentStatus(id, status);\n        if (!result.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: result.errors?.join(\", \") || \"Failed to update appointment status\"\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            appointment: result.appointment,\n            message: \"Appointment status updated successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error updating appointment status:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Failed to update appointment status\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get(\"id\");\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: \"Appointment ID is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Delete appointment using database\n        const result = db.deleteAppointment(id);\n        if (!result.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: result.errors?.join(\", \") || \"Failed to delete appointment\"\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            message: \"Appointment deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error deleting appointment:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: \"Failed to delete appointment\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL2FwcG9pbnRtZW50cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTRDO0FBQ1c7QUFFdkQsOEJBQThCO0FBQzlCLE1BQU1FLEtBQUtGLHFEQUFlQSxDQUFDRyxXQUFXO0FBRS9CLGVBQWVDLElBQUlDLE9BQW9CO0lBQzdDLElBQUk7UUFDSCxNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlGLFFBQVFHLEdBQUc7UUFDNUMsTUFBTUMsT0FBT0gsYUFBYUksR0FBRyxDQUFDO1FBQzlCLE1BQU1DLFNBQVNMLGFBQWFJLEdBQUcsQ0FBQztRQUVoQywyQ0FBMkM7UUFDM0MsTUFBTUUsVUFBOEMsQ0FBQztRQUNyRCxJQUFJSCxNQUFNRyxRQUFRSCxJQUFJLEdBQUdBO1FBQ3pCLElBQUlFLFFBQVFDLFFBQVFELE1BQU0sR0FBR0E7UUFFN0IsTUFBTUUsZUFBZVgsR0FBR1ksZUFBZSxDQUFDRjtRQUV4QyxPQUFPWCxxREFBWUEsQ0FBQ2MsSUFBSSxDQUFDO1lBQ3hCRjtZQUNBRyxPQUFPSCxhQUFhSSxNQUFNO1FBQzNCO0lBRUQsRUFBRSxPQUFPQyxPQUFPO1FBQ2ZDLFFBQVFELEtBQUssQ0FBQyxnQ0FBZ0NBO1FBQzlDLE9BQU9qQixxREFBWUEsQ0FBQ2MsSUFBSSxDQUN2QjtZQUFFRyxPQUFPO1FBQStCLEdBQ3hDO1lBQUVQLFFBQVE7UUFBSTtJQUVoQjtBQUNEO0FBRU8sZUFBZVMsS0FBS2YsT0FBb0I7SUFDOUMsSUFBSTtRQUNILE1BQU1nQixrQkFBa0IsTUFBTWhCLFFBQVFVLElBQUk7UUFFMUMsMkJBQTJCO1FBQzNCLE1BQU1PLGlCQUFpQjtZQUFDO1lBQWE7WUFBWTtZQUFXO1lBQVE7WUFBUTtZQUFTO1NBQVE7UUFDN0YsS0FBSyxNQUFNQyxTQUFTRCxlQUFnQjtZQUNuQyxJQUFJLENBQUNELGVBQWUsQ0FBQ0UsTUFBTSxFQUFFO2dCQUM1QixPQUFPdEIscURBQVlBLENBQUNjLElBQUksQ0FD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dXJjZXMiOlsid2VicGFjazovL2ZpZmktaGFpci1zYWxvbi8uL2FwcC9hcGkvYWRtaW4vYXBwb2ludG1lbnRzL3JvdXRlLnRzP2I1NTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERhdGFiYXNlTWFuYWdlciBmcm9tICdAL2xpYi9kYXRhYmFzZSdcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcblxuLy8gSW5pdGlhbGl6ZSBkYXRhYmFzZSBtYW5hZ2VyXG5jb25zdCBkYiA9IERhdGFiYXNlTWFuYWdlci5nZXRJbnN0YW5jZSgpXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcblx0XHRjb25zdCBkYXRlID0gc2VhcmNoUGFyYW1zLmdldCgnZGF0ZScpXG5cdFx0Y29uc3Qgc3RhdHVzID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhdHVzJylcblx0XHRcblx0XHQvLyBHZXQgYXBwb2ludG1lbnRzIHdpdGggb3B0aW9uYWwgZmlsdGVyaW5nXG5cdFx0Y29uc3QgZmlsdGVyczogeyBkYXRlPzogc3RyaW5nOyBzdGF0dXM/OiBzdHJpbmcgfSA9IHt9XG5cdFx0aWYgKGRhdGUpIGZpbHRlcnMuZGF0ZSA9IGRhdGVcblx0XHRpZiAoc3RhdHVzKSBmaWx0ZXJzLnN0YXR1cyA9IHN0YXR1c1xuXHRcdFxuXHRcdGNvbnN0IGFwcG9pbnRtZW50cyA9IGRiLmdldEFwcG9pbnRtZW50cyhmaWx0ZXJzKVxuXHRcdFxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuXHRcdFx0YXBwb2ludG1lbnRzLFxuXHRcdFx0dG90YWw6IGFwcG9pbnRtZW50cy5sZW5ndGhcblx0XHR9KVxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXBwb2ludG1lbnRzOicsIGVycm9yKVxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcblx0XHRcdHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggYXBwb2ludG1lbnRzJyB9LFxuXHRcdFx0eyBzdGF0dXM6IDUwMCB9XG5cdFx0KVxuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgYXBwb2ludG1lbnREYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblx0XHRcblx0XHQvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcblx0XHRjb25zdCByZXF1aXJlZEZpZWxkcyA9IFsnZmlyc3ROYW1lJywgJ2xhc3ROYW1lJywgJ3NlcnZpY2UnLCAnZGF0ZScsICd0aW1lJywgJ3Bob25lJywgJ2VtYWlsJ11cblx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIHJlcXVpcmVkRmllbGRzKSB7XG5cdFx0XHRpZiAoIWFwcG9pbnRtZW50RGF0YVtmaWVsZF0pIHtcblx0XHRcdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuXHRcdFx0XHRcdHsgZXJyb3I6IGBNaXNzaW5nIHJlcXVpcmVkIGZpZWxkOiAke2ZpZWxkfWAgfSxcblx0XHRcdFx0XHR7IHN0YXR1czogNDAwIH1cblx0XHRcdFx0KVxuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHQvLyBTZXQgZGVmYXVsdCBzdGF0dXMgaWYgbm90IHByb3ZpZGVkXG5cdFx0aWYgKCFhcHBvaW50bWVudERhdGEuc3RhdHVzKSB7XG5cdFx0XHRhcHBvaW50bWVudERhdGEuc3RhdHVzID0gJ3NjaGVkdWxlZCdcblx0XHR9XG5cdFx0XG5cdFx0Ly8gQ3JlYXRlIG5ldyBhcHBvaW50bWVudCB1c2luZyBkYXRhYmFzZVxuXHRcdGNvbnN0IHJlc3VsdCA9IGRiLmNyZWF0ZUFwcG9pbnRtZW50KGFwcG9pbnRtZW50RGF0YSlcblx0XHRcblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG5cdFx0XHRcdHsgZXJyb3I6IHJlc3VsdC5lcnJvcnM/LmpvaW4oJywgJykgfHwgJ0ZhaWxlZCB0byBjcmVhdGUgYXBwb2ludG1lbnQnIH0sXG5cdFx0XHRcdHsgc3RhdHVzOiA0MDAgfVxuXHRcdFx0KVxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcblx0XHRcdGFwcG9pbnRtZW50OiByZXN1bHQuYXBwb2ludG1lbnQsXG5cdFx0XHRtZXNzYWdlOiAnQXBwb2ludG1lbnQgY3JlYXRlZCBzdWNjZXNzZnVsbHknXG5cdFx0fSwgeyBzdGF0dXM6IDIwMSB9KVxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgYXBwb2ludG1lbnQ6JywgZXJyb3IpXG5cdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuXHRcdFx0eyBlcnJvcjogJ0ZhaWxlZCB0byBjcmVhdGUgYXBwb2ludG1lbnQnIH0sXG5cdFx0XHR7IHN0YXR1czogNTAwIH1cblx0XHQpXG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuXHRcdGNvbnN0IGlkID0gc2VhcmNoUGFyYW1zLmdldCgnaWQnKVxuXHRcdFxuXHRcdGlmICghaWQpIHtcblx0XHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcblx0XHRcdFx0eyBlcnJvcjogJ0FwcG9pbnRtZW50IElEIGlzIHJlcXVpcmVkJyB9LFxuXHRcdFx0XHR7IHN0YXR1czogNDAwIH1cblx0XHRcdClcblx0XHR9XG5cdFx0XG5cdFx0Y29uc3QgdXBkYXRlRGF0YSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG5cdFx0XG5cdFx0Ly8gVXBkYXRlIGFwcG9pbnRtZW50IHVzaW5nIGRhdGFiYXNlXG5cdFx0Y29uc3QgcmVzdWx0ID0gZGIudXBkYXRlQXBwb2ludG1lbnQoaWQsIHVwZGF0ZURhdGEpXG5cdFx0XG5cdFx0aWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuXHRcdFx0XHR7IGVycm9yOiByZXN1bHQuZXJyb3JzPy5qb2luKCcsICcpIHx8ICdGYWlsZWQgdG8gdXBkYXRlIGFwcG9pbnRtZW50JyB9LFxuXHRcdFx0XHR7IHN0YXR1czogNDAwIH1cblx0XHRcdClcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXG5cdFx0XHRhcHBvaW50bWVudDogcmVzdWx0LmFwcG9pbnRtZW50LFxuXHRcdFx0bWVzc2FnZTogJ0FwcG9pbnRtZW50IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5J1xuXHRcdH0pXG5cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBhcHBvaW50bWVudDonLCBlcnJvcilcblx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG5cdFx0XHR7IGVycm9yOiAnRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCcgfSxcblx0XHRcdHsgc3RhdHVzOiA1MDAgfVxuXHRcdClcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUEFUQ0gocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IGlkLCBzdGF0dXMgfSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXG5cblx0XHRpZiAoIWlkIHx8ICFzdGF0dXMpIHtcblx0XHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcblx0XHRcdFx0eyBlcnJvcjogJ0FwcG9pbnRtZW50IElEIGFuZCBzdGF0dXMgYXJlIHJlcXVpcmVkJyB9LFxuXHRcdFx0XHR7IHN0YXR1czogNDAwIH1cblx0XHRcdClcblx0XHR9XG5cblx0XHRjb25zdCB2YWxpZFN0YXR1c2VzID0gWydzY2hlZHVsZWQnLCAnY29tcGxldGVkJywgJ2NhbmNlbGxlZCcsICduby1zaG93J11cblx0XHRpZiAoIXZhbGlkU3RhdHVzZXMuaW5jbHVkZXMoc3RhdHVzKSkge1xuXHRcdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuXHRcdFx0XHR7IGVycm9yOiAnSW52YWxpZCBzdGF0dXMuIE11c3QgYmUgb25lIG9mOiBzY2hlZHVsZWQsIGNvbXBsZXRlZCwgY2FuY2VsbGVkLCBuby1zaG93JyB9LFxuXHRcdFx0XHR7IHN0YXR1czogNDAwIH1cblx0XHRcdClcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgYXBwb2ludG1lbnQgc3RhdHVzIHVzaW5nIGRhdGFiYXNlXG5cdFx0Y29uc3QgcmVzdWx0ID0gZGIudXBkYXRlQXBwb2ludG1lbnRTdGF0dXMoaWQsIHN0YXR1cylcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcblx0XHRcdFx0eyBlcnJvcjogcmVzdWx0LmVycm9ycz8uam9pbignLCAnKSB8fCAnRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMnIH0sXG5cdFx0XHRcdHsgc3RhdHVzOiA0MDAgfVxuXHRcdFx0KVxuXHRcdH1cblxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG5cdFx0XHRhcHBvaW50bWVudDogcmVzdWx0LmFwcG9pbnRtZW50LFxuXHRcdFx0bWVzc2FnZTogJ0FwcG9pbnRtZW50IHN0YXR1cyB1cGRhdGVkIHN1Y2Nlc3NmdWxseSdcblx0XHR9KVxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgYXBwb2ludG1lbnQgc3RhdHVzOicsIGVycm9yKVxuXHRcdHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcblx0XHRcdHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIGFwcG9pbnRtZW50IHN0YXR1cycgfSxcblx0XHRcdHsgc3RhdHVzOiA1MDAgfVxuXHRcdClcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gREVMRVRFKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXG5cdFx0Y29uc3QgaWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdpZCcpXG5cdFx0XG5cdFx0aWYgKCFpZCkge1xuXHRcdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuXHRcdFx0XHR7IGVycm9yOiAnQXBwb2ludG1lbnQgSUQgaXMgcmVxdWlyZWQnIH0sXG5cdFx0XHRcdHsgc3RhdHVzOiA0MDAgfVxuXHRcdFx0KVxuXHRcdH1cblx0XHRcblx0XHQvLyBEZWxldGUgYXBwb2ludG1lbnQgdXNpbmcgZGF0YWJhc2Vcblx0XHRjb25zdCByZXN1bHQgPSBkYi5kZWxldGVBcHBvaW50bWVudChpZClcblx0XHRcblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG5cdFx0XHRcdHsgZXJyb3I6IHJlc3VsdC5lcnJvcnM/LmpvaW4oJywgJykgfHwgJ0ZhaWxlZCB0byBkZWxldGUgYXBwb2ludG1lbnQnIH0sXG5cdFx0XHRcdHsgc3RhdHVzOiA0MDAgfVxuXHRcdFx0KVxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBcblx0XHRcdG1lc3NhZ2U6ICdBcHBvaW50bWVudCBkZWxldGVkIHN1Y2Nlc3NmdWxseSdcblx0XHR9KVxuXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgYXBwb2ludG1lbnQ6JywgZXJyb3IpXG5cdFx0cmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuXHRcdFx0eyBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgYXBwb2ludG1lbnQnIH0sXG5cdFx0XHR7IHN0YXR1czogNTAwIH1cblx0XHQpXG5cdH1cbn0iXSwibmFtZXMiOlsiRGF0YWJhc2VNYW5hZ2VyIiwiTmV4dFJlc3BvbnNlIiwiZGIiLCJnZXRJbnN0YW5jZSIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJkYXRlIiwiZ2V0Iiwic3RhdHVzIiwiZmlsdGVycyIsImFwcG9pbnRtZW50cyIsImdldEFwcG9pbnRtZW50cyIsImpzb24iLCJ0b3RhbCIsImxlbmd0aCIsImVycm9yIiwiY29uc29sZSIsIlBPU1QiLCJhcHBvaW50bWVudERhdGEiLCJyZXF1aXJlZEZpZWxkcyIsImZpZWxkIiwicmVzdWx0IiwiY3JlYXRlQXBwb2ludG1lbnQiLCJzdWNjZXNzIiwiZXJyb3JzIiwiam9pbiIsImFwcG9pbnRtZW50IiwibWVzc2FnZSIsIlBVVCIsImlkIiwidXBkYXRlRGF0YSIsInVwZGF0ZUFwcG9pbnRtZW50IiwiUEFUQ0giLCJ2YWxpZFN0YXR1c2VzIiwiaW5jbHVkZXMiLCJ1cGRhdGVBcHBvaW50bWVudFN0YXR1cyIsIkRFTEVURSIsImRlbGV0ZUFwcG9pbnRtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/appointments/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/database.ts":
/*!*************************!*\
  !*** ./lib/database.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-sqlite3 */ \"better-sqlite3\");\n/* harmony import */ var better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(better_sqlite3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// Service price mapping\nconst SERVICE_PRICES = {\n    \"box-braids\": 120,\n    \"cornrows\": 80,\n    \"senegalese-twist\": 150,\n    \"goddess-braids\": 180,\n    \"dreadlocks\": 200,\n    \"hair-straightening\": 100,\n    \"weave-sewing\": 250,\n    \"wash-set\": 60,\n    \"silk-press\": 80,\n    \"afro-styling\": 70,\n    \"updo\": 90,\n    \"color-treatment\": 150,\n    \"hair-cut\": 50,\n    \"trim\": 25,\n    \"deep-conditioning\": 40,\n    \"blowout\": 45,\n    \"braid-removal\": 30,\n    \"hair-consultation\": 25\n};\n// Database utility class with security measures\nclass DatabaseManager {\n    constructor(){\n        // Create database in a secure location\n        const dbPath = (0,path__WEBPACK_IMPORTED_MODULE_1__.join)(process.cwd(), \"data\", \"appointments.db\");\n        // Ensure data directory exists\n        const fs = __webpack_require__(/*! fs */ \"fs\");\n        const dataDir = (0,path__WEBPACK_IMPORTED_MODULE_1__.join)(process.cwd(), \"data\");\n        if (!fs.existsSync(dataDir)) {\n            fs.mkdirSync(dataDir, {\n                recursive: true\n            });\n        }\n        // Initialize database with security settings\n        this.db = new (better_sqlite3__WEBPACK_IMPORTED_MODULE_0___default())(dbPath, {\n            verbose:  true ? console.log : 0\n        });\n        // Enable WAL mode for better concurrency\n        this.db.pragma(\"journal_mode = WAL\");\n        // Enable foreign keys\n        this.db.pragma(\"foreign_keys = ON\");\n        // Set secure settings\n        this.db.pragma(\"secure_delete = ON\");\n        this.initializeTables();\n    }\n    static getInstance() {\n        if (!DatabaseManager.instance) {\n            DatabaseManager.instance = new DatabaseManager();\n        }\n        return DatabaseManager.instance;\n    }\n    initializeTables() {\n        // Create appointments table with proper constraints and security\n        const createAppointmentsTable = `\n      CREATE TABLE IF NOT EXISTS appointments (\n        id TEXT PRIMARY KEY,\n        firstName TEXT NOT NULL CHECK(length(firstName) > 0 AND length(firstName) <= 50),\n        lastName TEXT NOT NULL CHECK(length(lastName) > 0 AND length(lastName) <= 50),\n        service TEXT NOT NULL CHECK(length(service) > 0 AND length(service) <= 100),\n        servicePrice REAL NOT NULL CHECK(servicePrice >= 0),\n        date TEXT NOT NULL CHECK(date GLOB '[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]'),\n        time TEXT NOT NULL CHECK(time GLOB '[0-9]*:[0-9][0-9] [AP]M'),\n        phone TEXT NOT NULL CHECK(length(phone) >= 10 AND length(phone) <= 20),\n        email TEXT NOT NULL CHECK(email LIKE '%@%' AND length(email) <= 100),\n        notes TEXT CHECK(length(notes) <= 500),\n        status TEXT NOT NULL DEFAULT 'scheduled' CHECK(status IN ('scheduled', 'completed', 'cancelled', 'no-show')),\n        createdAt TEXT NOT NULL DEFAULT (datetime('now')),\n        updatedAt TEXT NOT NULL DEFAULT (datetime('now'))\n      )\n    `;\n        // Create index for better query performance\n        const createIndexes = `\n      CREATE INDEX IF NOT EXISTS idx_appointments_date ON appointments(date);\n      CREATE INDEX IF NOT EXISTS idx_appointments_status ON appointments(status);\n      CREATE INDEX IF NOT EXISTS idx_appointments_email ON appointments(email);\n    `;\n        // Create trigger to automatically update updatedAt\n        const createTrigger = `\n      CREATE TRIGGER IF NOT EXISTS update_appointments_updated_at\n      AFTER UPDATE ON appointments\n      BEGIN\n        UPDATE appointments SET updatedAt = datetime('now') WHERE id = NEW.id;\n      END\n    `;\n        this.db.exec(createAppointmentsTable);\n        this.db.exec(createIndexes);\n        this.db.exec(createTrigger);\n        // Check if servicePrice column exists, if not add it\n        try {\n            this.db.prepare(\"SELECT servicePrice FROM appointments LIMIT 1\").get();\n        } catch (error) {\n            // Column doesn't exist, add it\n            this.db.exec(\"ALTER TABLE appointments ADD COLUMN servicePrice REAL DEFAULT 0\");\n            console.log(\"Added servicePrice column to existing database\");\n        }\n    // Database is ready - no sample data needed\n    }\n    // Get service price from service name\n    getServicePrice(serviceName) {\n        const normalizedService = serviceName.toLowerCase().replace(/\\s+/g, \"-\");\n        return SERVICE_PRICES[normalizedService] || 0;\n    }\n    // Input validation and sanitization\n    validateAppointment(data) {\n        const errors = [];\n        if (data.firstName && (data.firstName.length === 0 || data.firstName.length > 50)) {\n            errors.push(\"First name must be between 1 and 50 characters\");\n        }\n        if (data.lastName && (data.lastName.length === 0 || data.lastName.length > 50)) {\n            errors.push(\"Last name must be between 1 and 50 characters\");\n        }\n        if (data.service && (data.service.length === 0 || data.service.length > 100)) {\n            errors.push(\"Service must be between 1 and 100 characters\");\n        }\n        if (data.servicePrice !== undefined && (data.servicePrice < 0 || data.servicePrice > 10000)) {\n            errors.push(\"Service price must be between $0 and $10,000\");\n        }\n        if (data.date && !/^\\d{4}-\\d{2}-\\d{2}$/.test(data.date)) {\n            errors.push(\"Date must be in YYYY-MM-DD format\");\n        }\n        if (data.time && !/^\\d{1,2}:\\d{2} [AP]M$/.test(data.time)) {\n            errors.push(\"Time must be in H:MM AM/PM or HH:MM AM/PM format\");\n        }\n        if (data.phone && (data.phone.length < 10 || data.phone.length > 20)) {\n            errors.push(\"Phone must be between 10 and 20 characters\");\n        }\n        if (data.email && (!data.email.includes(\"@\") || data.email.length > 100)) {\n            errors.push(\"Email must be valid and under 100 characters\");\n        }\n        if (data.notes && data.notes.length > 500) {\n            errors.push(\"Notes must be under 500 characters\");\n        }\n        if (data.status && ![\n            \"scheduled\",\n            \"completed\",\n            \"cancelled\",\n            \"no-show\"\n        ].includes(data.status)) {\n            errors.push(\"Status must be one of: scheduled, completed, cancelled, no-show\");\n        }\n        return {\n            isValid: errors.length === 0,\n            errors\n        };\n    }\n    // Sanitize input to prevent injection attacks\n    sanitizeInput(input) {\n        return input.replace(/[<>]/g, \"\") // Remove potential HTML tags\n        .replace(/['\"]/g, \"\") // Remove quotes that could break SQL\n        .trim();\n    }\n    // Get all appointments with optional filtering\n    getAppointments(filters) {\n        let query = \"SELECT * FROM appointments\";\n        const params = [];\n        const conditions = [];\n        if (filters?.date) {\n            conditions.push(\"date = ?\");\n            params.push(filters.date);\n        }\n        if (filters?.status) {\n            conditions.push(\"status = ?\");\n            params.push(filters.status);\n        }\n        if (conditions.length > 0) {\n            query += \" WHERE \" + conditions.join(\" AND \");\n        }\n        query += \" ORDER BY date ASC, time ASC\";\n        const stmt = this.db.prepare(query);\n        return stmt.all(...params);\n    }\n    // Get appointment by ID\n    getAppointmentById(id) {\n        const stmt = this.db.prepare(\"SELECT * FROM appointments WHERE id = ?\");\n        return stmt.get(id);\n    }\n    // Create new appointment\n    createAppointment(data) {\n        const validation = this.validateAppointment(data);\n        if (!validation.isValid) {\n            return {\n                success: false,\n                errors: validation.errors\n            };\n        }\n        // Sanitize inputs and set service price\n        const sanitizedData = {\n            ...data,\n            firstName: this.sanitizeInput(data.firstName),\n            lastName: this.sanitizeInput(data.lastName),\n            service: this.sanitizeInput(data.service),\n            servicePrice: data.servicePrice || this.getServicePrice(data.service),\n            phone: this.sanitizeInput(data.phone),\n            email: this.sanitizeInput(data.email),\n            notes: data.notes ? this.sanitizeInput(data.notes) : null\n        };\n        const id = Date.now().toString() + Math.random().toString(36).substr(2, 9);\n        const now = new Date().toISOString();\n        try {\n            const stmt = this.db.prepare(`\n        INSERT INTO appointments (id, firstName, lastName, service, servicePrice, date, time, phone, email, notes, status, createdAt, updatedAt)\n        VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n      `);\n            stmt.run(id, sanitizedData.firstName, sanitizedData.lastName, sanitizedData.service, sanitizedData.servicePrice, sanitizedData.date, sanitizedData.time, sanitizedData.phone, sanitizedData.email, sanitizedData.notes, sanitizedData.status, now, now);\n            const appointment = this.getAppointmentById(id);\n            return {\n                success: true,\n                appointment: appointment\n            };\n        } catch (error) {\n            console.error(\"Database error:\", error);\n            return {\n                success: false,\n                errors: [\n                    \"Failed to create appointment\"\n                ]\n            };\n        }\n    }\n    // Update appointment\n    updateAppointment(id, data) {\n        const validation = this.validateAppointment(data);\n        if (!validation.isValid) {\n            return {\n                success: false,\n                errors: validation.errors\n            };\n        }\n        // Check if appointment exists\n        const existing = this.getAppointmentById(id);\n        if (!existing) {\n            return {\n                success: false,\n                errors: [\n                    \"Appointment not found\"\n                ]\n            };\n        }\n        // Sanitize inputs\n        const sanitizedData = {\n            ...data\n        };\n        if (data.firstName) sanitizedData.firstName = this.sanitizeInput(data.firstName);\n        if (data.lastName) sanitizedData.lastName = this.sanitizeInput(data.lastName);\n        if (data.service) sanitizedData.service = this.sanitizeInput(data.service);\n        if (data.phone) sanitizedData.phone = this.sanitizeInput(data.phone);\n        if (data.email) sanitizedData.email = this.sanitizeInput(data.email);\n        if (data.notes) sanitizedData.notes = this.sanitizeInput(data.notes);\n        try {\n            const fields = Object.keys(sanitizedData).map((key)=>`${key} = ?`).join(\", \");\n            const values = Object.values(sanitizedData);\n            const stmt = this.db.prepare(`UPDATE appointments SET ${fields} WHERE id = ?`);\n            stmt.run(...values, id);\n            const appointment = this.getAppointmentById(id);\n            return {\n                success: true,\n                appointment: appointment\n            };\n        } catch (error) {\n            console.error(\"Database error:\", error);\n            return {\n                success: false,\n                errors: [\n                    \"Failed to update appointment\"\n                ]\n            };\n        }\n    }\n    // Update appointment status only\n    updateAppointmentStatus(id, status) {\n        try {\n            const stmt = this.db.prepare(`\n        UPDATE appointments \n        SET status = ?, updatedAt = datetime('now')\n        WHERE id = ?\n      `);\n            const result = stmt.run(status, id);\n            if (result.changes === 0) {\n                return {\n                    success: false,\n                    errors: [\n                        \"Appointment not found\"\n                    ]\n                };\n            }\n            const appointment = this.getAppointmentById(id);\n            return {\n                success: true,\n                appointment: appointment\n            };\n        } catch (error) {\n            console.error(\"Database error:\", error);\n            return {\n                success: false,\n                errors: [\n                    \"Failed to update appointment status\"\n                ]\n            };\n        }\n    }\n    // Delete appointment\n    deleteAppointment(id) {\n        try {\n            const stmt = this.db.prepare(\"DELETE FROM appointments WHERE id = ?\");\n            const result = stmt.run(id);\n            if (result.changes === 0) {\n                return {\n                    success: false,\n                    errors: [\n                        \"Appointment not found\"\n                    ]\n                };\n            }\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Database error:\", error);\n            return {\n                success: false,\n                errors: [\n                    \"Failed to delete appointment\"\n                ]\n            };\n        }\n    }\n    // Get appointment statistics\n    getStats() {\n        const total = this.db.prepare(\"SELECT COUNT(*) as count FROM appointments\").get();\n        const today = new Date().toISOString().split(\"T\")[0];\n        const todayCount = this.db.prepare(\"SELECT COUNT(*) as count FROM appointments WHERE date = ?\").get(today);\n        const weekAgo = new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split(\"T\")[0];\n        const thisWeekCount = this.db.prepare(\"SELECT COUNT(*) as count FROM appointments WHERE date >= ?\").get(weekAgo);\n        const byStatus = this.db.prepare(\"SELECT status, COUNT(*) as count FROM appointments GROUP BY status\").all();\n        const statusCounts = byStatus.reduce((acc, row)=>{\n            acc[row.status] = row.count;\n            return acc;\n        }, {});\n        // Completed revenue calculations\n        const totalRevenue = this.db.prepare(\"SELECT SUM(servicePrice) as revenue FROM appointments WHERE status = ?\").get(\"completed\");\n        const todayRevenue = this.db.prepare(\"SELECT SUM(servicePrice) as revenue FROM appointments WHERE date = ? AND status = ?\").get(today, \"completed\");\n        const thisWeekRevenue = this.db.prepare(\"SELECT SUM(servicePrice) as revenue FROM appointments WHERE date >= ? AND status = ?\").get(weekAgo, \"completed\");\n        // Pending revenue calculations (scheduled appointments)\n        const pendingRevenue = this.db.prepare(\"SELECT SUM(servicePrice) as revenue FROM appointments WHERE status = ?\").get(\"scheduled\");\n        const todayPendingRevenue = this.db.prepare(\"SELECT SUM(servicePrice) as revenue FROM appointments WHERE date = ? AND status = ?\").get(today, \"scheduled\");\n        const thisWeekPendingRevenue = this.db.prepare(\"SELECT SUM(servicePrice) as revenue FROM appointments WHERE date >= ? AND status = ?\").get(weekAgo, \"scheduled\");\n        return {\n            total: total.count,\n            today: todayCount.count,\n            thisWeek: thisWeekCount.count,\n            byStatus: statusCounts,\n            totalRevenue: totalRevenue.revenue || 0,\n            todayRevenue: todayRevenue.revenue || 0,\n            thisWeekRevenue: thisWeekRevenue.revenue || 0,\n            pendingRevenue: pendingRevenue.revenue || 0,\n            todayPendingRevenue: todayPendingRevenue.revenue || 0,\n            thisWeekPendingRevenue: thisWeekPendingRevenue.revenue || 0\n        };\n    }\n    // Close database connection\n    close() {\n        this.db.close();\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DatabaseManager);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDYSxPQUFPLENBQUMsd0ZBQXdGQyxHQUFHLENBQUNtRSxTQUFTO1FBRXBKLE9BQU87WUFDTEosT0FBT0EsTUFBTVcsS0FBSztZQUNsQlYsT0FBT0UsV0FBV1EsS0FBSztZQUN2Qk8sVUFBVWIsY0FBY00sS0FBSztZQUM3QkwsVUFBVUM7WUFDVkssY0FBY0EsYUFBYU8sT0FBTyxJQUFJO1lBQ3RDTixjQUFjQSxhQUFhTSxPQUFPLElBQUk7WUFDdENMLGlCQUFpQkEsZ0JBQWdCSyxPQUFPLElBQUk7WUFDNUNKLGdCQUFnQkEsZUFBZUksT0FBTyxJQUFJO1lBQzFDSCxxQkFBcUJBLG9CQUFvQkcsT0FBTyxJQUFJO1lBQ3BERix3QkFBd0JBLHVCQUF1QkUsT0FBTyxJQUFJO1FBQzVEO0lBQ0Y7SUFFQSw0QkFBNEI7SUFDckJDLFFBQWM7UUFDbkIsSUFBSSxDQUFDakcsRUFBRSxDQUFDaUcsS0FBSztJQUNmO0FBQ0Y7QUFFQSxpRUFBZTNHLGVBQWVBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9maWZpLWhhaXItc2Fsb24vLi9saWIvZGF0YWJhc2UudHM/NGQ0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0YWJhc2UgZnJvbSAnYmV0dGVyLXNxbGl0ZTMnXG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCdcblxuLy8gRGF0YWJhc2UgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIEFwcG9pbnRtZW50IHtcbiAgaWQ6IHN0cmluZ1xuICBmaXJzdE5hbWU6IHN0cmluZ1xuICBsYXN0TmFtZTogc3RyaW5nXG4gIHNlcnZpY2U6IHN0cmluZ1xuICBzZXJ2aWNlUHJpY2U6IG51bWJlclxuICBkYXRlOiBzdHJpbmdcbiAgdGltZTogc3RyaW5nXG4gIHBob25lOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICBub3Rlcz86IHN0cmluZ1xuICBzdGF0dXM6ICdzY2hlZHVsZWQnIHwgJ2NvbXBsZXRlZCcgfCAnY2FuY2VsbGVkJyB8ICduby1zaG93J1xuICBjcmVhdGVkQXQ6IHN0cmluZ1xuICB1cGRhdGVkQXQ6IHN0cmluZ1xufVxuXG4vLyBTZXJ2aWNlIHByaWNlIG1hcHBpbmdcbmNvbnN0IFNFUlZJQ0VfUFJJQ0VTOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge1xuICAnYm94LWJyYWlkcyc6IDEyMCxcbiAgJ2Nvcm5yb3dzJzogODAsXG4gICdzZW5lZ2FsZXNlLXR3aXN0JzogMTUwLFxuICAnZ29kZGVzcy1icmFpZHMnOiAxODAsXG4gICdkcmVhZGxvY2tzJzogMjAwLFxuICAnaGFpci1zdHJhaWdodGVuaW5nJzogMTAwLFxuICAnd2VhdmUtc2V3aW5nJzogMjUwLFxuICAnd2FzaC1zZXQnOiA2MCxcbiAgJ3NpbGstcHJlc3MnOiA4MCxcbiAgJ2Fmcm8tc3R5bGluZyc6IDcwLFxuICAndXBkbyc6IDkwLFxuICAnY29sb3ItdHJlYXRtZW50JzogMTUwLFxuICAnaGFpci1jdXQnOiA1MCxcbiAgJ3RyaW0nOiAyNSxcbiAgJ2RlZXAtY29uZGl0aW9uaW5nJzogNDAsXG4gICdibG93b3V0JzogNDUsXG4gICdicmFpZC1yZW1vdmFsJzogMzAsXG4gICdoYWlyLWNvbnN1bHRhdGlvbic6IDI1XG59XG5cbi8vIERhdGFiYXNlIHV0aWxpdHkgY2xhc3Mgd2l0aCBzZWN1cml0eSBtZWFzdXJlc1xuY2xhc3MgRGF0YWJhc2VNYW5hZ2VyIHtcbiAgcHJpdmF0ZSBkYjogRGF0YWJhc2UuRGF0YWJhc2VcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IERhdGFiYXNlTWFuYWdlclxuXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gQ3JlYXRlIGRhdGFiYXNlIGluIGEgc2VjdXJlIGxvY2F0aW9uXG4gICAgY29uc3QgZGJQYXRoID0gam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScsICdhcHBvaW50bWVudHMuZGInKVxuICAgIFxuICAgIC8vIEVuc3VyZSBkYXRhIGRpcmVjdG9yeSBleGlzdHNcbiAgICBjb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJylcbiAgICBjb25zdCBkYXRhRGlyID0gam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScpXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGRhdGFEaXIpKSB7XG4gICAgICBmcy5ta2RpclN5bmMoZGF0YURpciwgeyByZWN1cnNpdmU6IHRydWUgfSlcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIGRhdGFiYXNlIHdpdGggc2VjdXJpdHkgc2V0dGluZ3NcbiAgICB0aGlzLmRiID0gbmV3IERhdGFiYXNlKGRiUGF0aCwge1xuICAgICAgdmVyYm9zZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyBjb25zb2xlLmxvZyA6IHVuZGVmaW5lZFxuICAgIH0pXG5cbiAgICAvLyBFbmFibGUgV0FMIG1vZGUgZm9yIGJldHRlciBjb25jdXJyZW5jeVxuICAgIHRoaXMuZGIucHJhZ21hKCdqb3VybmFsX21vZGUgPSBXQUwnKVxuICAgIFxuICAgIC8vIEVuYWJsZSBmb3JlaWduIGtleXNcbiAgICB0aGlzLmRiLnByYWdtYSgnZm9yZWlnbl9rZXlzID0gT04nKVxuICAgIFxuICAgIC8vIFNldCBzZWN1cmUgc2V0dGluZ3NcbiAgICB0aGlzLmRiLnByYWdtYSgnc2VjdXJlX2RlbGV0ZSA9IE9OJylcbiAgICBcbiAgICB0aGlzLmluaXRpYWxpemVUYWJsZXMoKVxuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBEYXRhYmFzZU1hbmFnZXIge1xuICAgIGlmICghRGF0YWJhc2VNYW5hZ2VyLmluc3RhbmNlKSB7XG4gICAgICBEYXRhYmFzZU1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgRGF0YWJhc2VNYW5hZ2VyKClcbiAgICB9XG4gICAgcmV0dXJuIERhdGFiYXNlTWFuYWdlci5pbnN0YW5jZVxuICB9XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplVGFibGVzKCk6IHZvaWQge1xuICAgIC8vIENyZWF0ZSBhcHBvaW50bWVudHMgdGFibGUgd2l0aCBwcm9wZXIgY29uc3RyYWludHMgYW5kIHNlY3VyaXR5XG4gICAgY29uc3QgY3JlYXRlQXBwb2ludG1lbnRzVGFibGUgPSBgXG4gICAgICBDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBhcHBvaW50bWVudHMgKFxuICAgICAgICBpZCBURVhUIFBSSU1BUlkgS0VZLFxuICAgICAgICBmaXJzdE5hbWUgVEVYVCBOT1QgTlVMTCBDSEVDSyhsZW5ndGgoZmlyc3ROYW1lKSA+IDAgQU5EIGxlbmd0aChmaXJzdE5hbWUpIDw9IDUwKSxcbiAgICAgICAgbGFzdE5hbWUgVEVYVCBOT1QgTlVMTCBDSEVDSyhsZW5ndGgobGFzdE5hbWUpID4gMCBBTkQgbGVuZ3RoKGxhc3ROYW1lKSA8PSA1MCksXG4gICAgICAgIHNlcnZpY2UgVEVYVCBOT1QgTlVMTCBDSEVDSyhsZW5ndGgoc2VydmljZSkgPiAwIEFORCBsZW5ndGgoc2VydmljZSkgPD0gMTAwKSxcbiAgICAgICAgc2VydmljZVByaWNlIFJFQUwgTk9UIE5VTEwgQ0hFQ0soc2VydmljZVByaWNlID49IDApLFxuICAgICAgICBkYXRlIFRFWFQgTk9UIE5VTEwgQ0hFQ0soZGF0ZSBHTE9CICdbMC05XVswLTldWzAtOV1bMC05XS1bMC05XVswLTldLVswLTldWzAtOV0nKSxcbiAgICAgICAgdGltZSBURVhUIE5PVCBOVUxMIENIRUNLKHRpbWUgR0xPQiAnWzAtOV0qOlswLTldWzAtOV0gW0FQXU0nKSxcbiAgICAgICAgcGhvbmUgVEVYVCBOT1QgTlVMTCBDSEVDSyhsZW5ndGgocGhvbmUpID49IDEwIEFORCBsZW5ndGgocGhvbmUpIDw9IDIwKSxcbiAgICAgICAgZW1haWwgVEVYVCBOT1QgTlVMTCBDSEVDSyhlbWFpbCBMSUtFICclQCUnIEFORCBsZW5ndGgoZW1haWwpIDw9IDEwMCksXG4gICAgICAgIG5vdGVzIFRFWFQgQ0hFQ0sobGVuZ3RoKG5vdGVzKSA8PSA1MDApLFxuICAgICAgICBzdGF0dXMgVEVYVCBOT1QgTlVMTCBERUZBVUxUICdzY2hlZHVsZWQnIENIRUNLKHN0YXR1cyBJTiAoJ3NjaGVkdWxlZCcsICdjb21wbGV0ZWQnLCAnY2FuY2VsbGVkJywgJ25vLXNob3cnKSksXG4gICAgICAgIGNyZWF0ZWRBdCBURVhUIE5PVCBOVUxMIERFRkFVTFQgKGRhdGV0aW1lKCdub3cnKSksXG4gICAgICAgIHVwZGF0ZWRBdCBURVhUIE5PVCBOVUxMIERFRkFVTFQgKGRhdGV0aW1lKCdub3cnKSlcbiAgICAgIClcbiAgICBgXG5cbiAgICAvLyBDcmVhdGUgaW5kZXggZm9yIGJldHRlciBxdWVyeSBwZXJmb3JtYW5jZVxuICAgIGNvbnN0IGNyZWF0ZUluZGV4ZXMgPSBgXG4gICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfYXBwb2ludG1lbnRzX2RhdGUgT04gYXBwb2ludG1lbnRzKGRhdGUpO1xuICAgICAgQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgaWR4X2FwcG9pbnRtZW50c19zdGF0dXMgT04gYXBwb2ludG1lbnRzKHN0YXR1cyk7XG4gICAgICBDUkVBVEUgSU5ERVggSUYgTk9UIEVYSVNUUyBpZHhfYXBwb2ludG1lbnRzX2VtYWlsIE9OIGFwcG9pbnRtZW50cyhlbWFpbCk7XG4gICAgYFxuXG4gICAgLy8gQ3JlYXRlIHRyaWdnZXIgdG8gYXV0b21hdGljYWxseSB1cGRhdGUgdXBkYXRlZEF0XG4gICAgY29uc3QgY3JlYXRlVHJpZ2dlciA9IGBcbiAgICAgIENSRUFURSBUUklHR0VSIElGIE5PVCBFWElTVFMgdXBkYXRlX2FwcG9pbnRtZW50c191cGRhdGVkX2F0XG4gICAgICBBRlRFUiBVUERBVEUgT04gYXBwb2ludG1lbnRzXG4gICAgICBCRUdJTlxuICAgICAgICBVUERBVEUgYXBwb2ludG1lbnRzIFNFVCB1cGRhdGVkQXQgPSBkYXRldGltZSgnbm93JykgV0hFUkUgaWQgPSBORVcuaWQ7XG4gICAgICBFTkRcbiAgICBgXG5cbiAgICB0aGlzLmRiLmV4ZWMoY3JlYXRlQXBwb2ludG1lbnRzVGFibGUpXG4gICAgdGhpcy5kYi5leGVjKGNyZWF0ZUluZGV4ZXMpXG4gICAgdGhpcy5kYi5leGVjKGNyZWF0ZVRyaWdnZXIpXG5cbiAgICAvLyBDaGVjayBpZiBzZXJ2aWNlUHJpY2UgY29sdW1uIGV4aXN0cywgaWYgbm90IGFkZCBpdFxuICAgIHRyeSB7XG4gICAgICB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBzZXJ2aWNlUHJpY2UgRlJPTSBhcHBvaW50bWVudHMgTElNSVQgMScpLmdldCgpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIENvbHVtbiBkb2Vzbid0IGV4aXN0LCBhZGQgaXRcbiAgICAgIHRoaXMuZGIuZXhlYygnQUxURVIgVEFCTEUgYXBwb2ludG1lbnRzIEFERCBDT0xVTU4gc2VydmljZVByaWNlIFJFQUwgREVGQVVMVCAwJylcbiAgICAgIGNvbnNvbGUubG9nKCdBZGRlZCBzZXJ2aWNlUHJpY2UgY29sdW1uIHRvIGV4aXN0aW5nIGRhdGFiYXNlJylcbiAgICB9XG5cbiAgICAvLyBEYXRhYmFzZSBpcyByZWFkeSAtIG5vIHNhbXBsZSBkYXRhIG5lZWRlZFxuICB9XG5cblxuICAvLyBHZXQgc2VydmljZSBwcmljZSBmcm9tIHNlcnZpY2UgbmFtZVxuICBwcml2YXRlIGdldFNlcnZpY2VQcmljZShzZXJ2aWNlTmFtZTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBjb25zdCBub3JtYWxpemVkU2VydmljZSA9IHNlcnZpY2VOYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpXG4gICAgcmV0dXJuIFNFUlZJQ0VfUFJJQ0VTW25vcm1hbGl6ZWRTZXJ2aWNlXSB8fCAwXG4gIH1cblxuICAvLyBJbnB1dCB2YWxpZGF0aW9uIGFuZCBzYW5pdGl6YXRpb25cbiAgcHJpdmF0ZSB2YWxpZGF0ZUFwcG9pbnRtZW50KGRhdGE6IFBhcnRpYWw8QXBwb2ludG1lbnQ+KTogeyBpc1ZhbGlkOiBib29sZWFuOyBlcnJvcnM6IHN0cmluZ1tdIH0ge1xuICAgIGNvbnN0IGVycm9yczogc3RyaW5nW10gPSBbXVxuXG4gICAgaWYgKGRhdGEuZmlyc3ROYW1lICYmIChkYXRhLmZpcnN0TmFtZS5sZW5ndGggPT09IDAgfHwgZGF0YS5maXJzdE5hbWUubGVuZ3RoID4gNTApKSB7XG4gICAgICBlcnJvcnMucHVzaCgnRmlyc3QgbmFtZSBtdXN0IGJlIGJldHdlZW4gMSBhbmQgNTAgY2hhcmFjdGVycycpXG4gICAgfVxuXG4gICAgaWYgKGRhdGEubGFzdE5hbWUgJiYgKGRhdGEubGFzdE5hbWUubGVuZ3RoID09PSAwIHx8IGRhdGEubGFzdE5hbWUubGVuZ3RoID4gNTApKSB7XG4gICAgICBlcnJvcnMucHVzaCgnTGFzdCBuYW1lIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA1MCBjaGFyYWN0ZXJzJylcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5zZXJ2aWNlICYmIChkYXRhLnNlcnZpY2UubGVuZ3RoID09PSAwIHx8IGRhdGEuc2VydmljZS5sZW5ndGggPiAxMDApKSB7XG4gICAgICBlcnJvcnMucHVzaCgnU2VydmljZSBtdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAwIGNoYXJhY3RlcnMnKVxuICAgIH1cblxuICAgIGlmIChkYXRhLnNlcnZpY2VQcmljZSAhPT0gdW5kZWZpbmVkICYmIChkYXRhLnNlcnZpY2VQcmljZSA8IDAgfHwgZGF0YS5zZXJ2aWNlUHJpY2UgPiAxMDAwMCkpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdTZXJ2aWNlIHByaWNlIG11c3QgYmUgYmV0d2VlbiAkMCBhbmQgJDEwLDAwMCcpXG4gICAgfVxuXG4gICAgaWYgKGRhdGEuZGF0ZSAmJiAhL15cXGR7NH0tXFxkezJ9LVxcZHsyfSQvLnRlc3QoZGF0YS5kYXRlKSkge1xuICAgICAgZXJyb3JzLnB1c2goJ0RhdGUgbXVzdCBiZSBpbiBZWVlZLU1NLUREIGZvcm1hdCcpXG4gICAgfVxuXG4gICAgaWYgKGRhdGEudGltZSAmJiAhL15cXGR7MSwyfTpcXGR7Mn0gW0FQXU0kLy50ZXN0KGRhdGEudGltZSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdUaW1lIG11c3QgYmUgaW4gSDpNTSBBTS9QTSBvciBISDpNTSBBTS9QTSBmb3JtYXQnKVxuICAgIH1cblxuICAgIGlmIChkYXRhLnBob25lICYmIChkYXRhLnBob25lLmxlbmd0aCA8IDEwIHx8IGRhdGEucGhvbmUubGVuZ3RoID4gMjApKSB7XG4gICAgICBlcnJvcnMucHVzaCgnUGhvbmUgbXVzdCBiZSBiZXR3ZWVuIDEwIGFuZCAyMCBjaGFyYWN0ZXJzJylcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5lbWFpbCAmJiAoIWRhdGEuZW1haWwuaW5jbHVkZXMoJ0AnKSB8fCBkYXRhLmVtYWlsLmxlbmd0aCA+IDEwMCkpIHtcbiAgICAgIGVycm9ycy5wdXNoKCdFbWFpbCBtdXN0IGJlIHZhbGlkIGFuZCB1bmRlciAxMDAgY2hhcmFjdGVycycpXG4gICAgfVxuXG4gICAgaWYgKGRhdGEubm90ZXMgJiYgZGF0YS5ub3Rlcy5sZW5ndGggPiA1MDApIHtcbiAgICAgIGVycm9ycy5wdXNoKCdOb3RlcyBtdXN0IGJlIHVuZGVyIDUwMCBjaGFyYWN0ZXJzJylcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5zdGF0dXMgJiYgIVsnc2NoZWR1bGVkJywgJ2NvbXBsZXRlZCcsICdjYW5jZWxsZWQnLCAnbm8tc2hvdyddLmluY2x1ZGVzKGRhdGEuc3RhdHVzKSkge1xuICAgICAgZXJyb3JzLnB1c2goJ1N0YXR1cyBtdXN0IGJlIG9uZSBvZjogc2NoZWR1bGVkLCBjb21wbGV0ZWQsIGNhbmNlbGxlZCwgbm8tc2hvdycpXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgaXNWYWxpZDogZXJyb3JzLmxlbmd0aCA9PT0gMCwgZXJyb3JzIH1cbiAgfVxuXG4gIC8vIFNhbml0aXplIGlucHV0IHRvIHByZXZlbnQgaW5qZWN0aW9uIGF0dGFja3NcbiAgcHJpdmF0ZSBzYW5pdGl6ZUlucHV0KGlucHV0OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBpbnB1dFxuICAgICAgLnJlcGxhY2UoL1s8Pl0vZywgJycpIC8vIFJlbW92ZSBwb3RlbnRpYWwgSFRNTCB0YWdzXG4gICAgICAucmVwbGFjZSgvWydcIl0vZywgJycpIC8vIFJlbW92ZSBxdW90ZXMgdGhhdCBjb3VsZCBicmVhayBTUUxcbiAgICAgIC50cmltKClcbiAgfVxuXG4gIC8vIEdldCBhbGwgYXBwb2ludG1lbnRzIHdpdGggb3B0aW9uYWwgZmlsdGVyaW5nXG4gIHB1YmxpYyBnZXRBcHBvaW50bWVudHMoZmlsdGVycz86IHsgZGF0ZT86IHN0cmluZzsgc3RhdHVzPzogc3RyaW5nIH0pOiBBcHBvaW50bWVudFtdIHtcbiAgICBsZXQgcXVlcnkgPSAnU0VMRUNUICogRlJPTSBhcHBvaW50bWVudHMnXG4gICAgY29uc3QgcGFyYW1zOiBhbnlbXSA9IFtdXG4gICAgY29uc3QgY29uZGl0aW9uczogc3RyaW5nW10gPSBbXVxuXG4gICAgaWYgKGZpbHRlcnM/LmRhdGUpIHtcbiAgICAgIGNvbmRpdGlvbnMucHVzaCgnZGF0ZSA9ID8nKVxuICAgICAgcGFyYW1zLnB1c2goZmlsdGVycy5kYXRlKVxuICAgIH1cblxuICAgIGlmIChmaWx0ZXJzPy5zdGF0dXMpIHtcbiAgICAgIGNvbmRpdGlvbnMucHVzaCgnc3RhdHVzID0gPycpXG4gICAgICBwYXJhbXMucHVzaChmaWx0ZXJzLnN0YXR1cylcbiAgICB9XG5cbiAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBxdWVyeSArPSAnIFdIRVJFICcgKyBjb25kaXRpb25zLmpvaW4oJyBBTkQgJylcbiAgICB9XG5cbiAgICBxdWVyeSArPSAnIE9SREVSIEJZIGRhdGUgQVNDLCB0aW1lIEFTQydcblxuICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUocXVlcnkpXG4gICAgcmV0dXJuIHN0bXQuYWxsKC4uLnBhcmFtcykgYXMgQXBwb2ludG1lbnRbXVxuICB9XG5cbiAgLy8gR2V0IGFwcG9pbnRtZW50IGJ5IElEXG4gIHB1YmxpYyBnZXRBcHBvaW50bWVudEJ5SWQoaWQ6IHN0cmluZyk6IEFwcG9pbnRtZW50IHwgbnVsbCB7XG4gICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUICogRlJPTSBhcHBvaW50bWVudHMgV0hFUkUgaWQgPSA/JylcbiAgICByZXR1cm4gc3RtdC5nZXQoaWQpIGFzIEFwcG9pbnRtZW50IHwgbnVsbFxuICB9XG5cbiAgLy8gQ3JlYXRlIG5ldyBhcHBvaW50bWVudFxuICBwdWJsaWMgY3JlYXRlQXBwb2ludG1lbnQoZGF0YTogT21pdDxBcHBvaW50bWVudCwgJ2lkJyB8ICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KTogeyBzdWNjZXNzOiBib29sZWFuOyBhcHBvaW50bWVudD86IEFwcG9pbnRtZW50OyBlcnJvcnM/OiBzdHJpbmdbXSB9IHtcbiAgICBjb25zdCB2YWxpZGF0aW9uID0gdGhpcy52YWxpZGF0ZUFwcG9pbnRtZW50KGRhdGEpXG4gICAgaWYgKCF2YWxpZGF0aW9uLmlzVmFsaWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcnM6IHZhbGlkYXRpb24uZXJyb3JzIH1cbiAgICB9XG5cbiAgICAvLyBTYW5pdGl6ZSBpbnB1dHMgYW5kIHNldCBzZXJ2aWNlIHByaWNlXG4gICAgY29uc3Qgc2FuaXRpemVkRGF0YSA9IHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICBmaXJzdE5hbWU6IHRoaXMuc2FuaXRpemVJbnB1dChkYXRhLmZpcnN0TmFtZSksXG4gICAgICBsYXN0TmFtZTogdGhpcy5zYW5pdGl6ZUlucHV0KGRhdGEubGFzdE5hbWUpLFxuICAgICAgc2VydmljZTogdGhpcy5zYW5pdGl6ZUlucHV0KGRhdGEuc2VydmljZSksXG4gICAgICBzZXJ2aWNlUHJpY2U6IGRhdGEuc2VydmljZVByaWNlIHx8IHRoaXMuZ2V0U2VydmljZVByaWNlKGRhdGEuc2VydmljZSksXG4gICAgICBwaG9uZTogdGhpcy5zYW5pdGl6ZUlucHV0KGRhdGEucGhvbmUpLFxuICAgICAgZW1haWw6IHRoaXMuc2FuaXRpemVJbnB1dChkYXRhLmVtYWlsKSxcbiAgICAgIG5vdGVzOiBkYXRhLm5vdGVzID8gdGhpcy5zYW5pdGl6ZUlucHV0KGRhdGEubm90ZXMpIDogbnVsbFxuICAgIH1cblxuICAgIGNvbnN0IGlkID0gRGF0ZS5ub3coKS50b1N0cmluZygpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RtdCA9IHRoaXMuZGIucHJlcGFyZShgXG4gICAgICAgIElOU0VSVCBJTlRPIGFwcG9pbnRtZW50cyAoaWQsIGZpcnN0TmFtZSwgbGFzdE5hbWUsIHNlcnZpY2UsIHNlcnZpY2VQcmljZSwgZGF0ZSwgdGltZSwgcGhvbmUsIGVtYWlsLCBub3Rlcywgc3RhdHVzLCBjcmVhdGVkQXQsIHVwZGF0ZWRBdClcbiAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KVxuICAgICAgYClcblxuICAgICAgc3RtdC5ydW4oXG4gICAgICAgIGlkLFxuICAgICAgICBzYW5pdGl6ZWREYXRhLmZpcnN0TmFtZSxcbiAgICAgICAgc2FuaXRpemVkRGF0YS5sYXN0TmFtZSxcbiAgICAgICAgc2FuaXRpemVkRGF0YS5zZXJ2aWNlLFxuICAgICAgICBzYW5pdGl6ZWREYXRhLnNlcnZpY2VQcmljZSxcbiAgICAgICAgc2FuaXRpemVkRGF0YS5kYXRlLFxuICAgICAgICBzYW5pdGl6ZWREYXRhLnRpbWUsXG4gICAgICAgIHNhbml0aXplZERhdGEucGhvbmUsXG4gICAgICAgIHNhbml0aXplZERhdGEuZW1haWwsXG4gICAgICAgIHNhbml0aXplZERhdGEubm90ZXMsXG4gICAgICAgIHNhbml0aXplZERhdGEuc3RhdHVzLFxuICAgICAgICBub3csXG4gICAgICAgIG5vd1xuICAgICAgKVxuXG4gICAgICBjb25zdCBhcHBvaW50bWVudCA9IHRoaXMuZ2V0QXBwb2ludG1lbnRCeUlkKGlkKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgYXBwb2ludG1lbnQ6IGFwcG9pbnRtZW50ISB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGVycm9yOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yczogWydGYWlsZWQgdG8gY3JlYXRlIGFwcG9pbnRtZW50J10gfVxuICAgIH1cbiAgfVxuXG4gIC8vIFVwZGF0ZSBhcHBvaW50bWVudFxuICBwdWJsaWMgdXBkYXRlQXBwb2ludG1lbnQoaWQ6IHN0cmluZywgZGF0YTogUGFydGlhbDxPbWl0PEFwcG9pbnRtZW50LCAnaWQnIHwgJ2NyZWF0ZWRBdCc+Pik6IHsgc3VjY2VzczogYm9vbGVhbjsgYXBwb2ludG1lbnQ/OiBBcHBvaW50bWVudDsgZXJyb3JzPzogc3RyaW5nW10gfSB7XG4gICAgY29uc3QgdmFsaWRhdGlvbiA9IHRoaXMudmFsaWRhdGVBcHBvaW50bWVudChkYXRhKVxuICAgIGlmICghdmFsaWRhdGlvbi5pc1ZhbGlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3JzOiB2YWxpZGF0aW9uLmVycm9ycyB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYXBwb2ludG1lbnQgZXhpc3RzXG4gICAgY29uc3QgZXhpc3RpbmcgPSB0aGlzLmdldEFwcG9pbnRtZW50QnlJZChpZClcbiAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3JzOiBbJ0FwcG9pbnRtZW50IG5vdCBmb3VuZCddIH1cbiAgICB9XG5cbiAgICAvLyBTYW5pdGl6ZSBpbnB1dHNcbiAgICBjb25zdCBzYW5pdGl6ZWREYXRhID0geyAuLi5kYXRhIH1cbiAgICBpZiAoZGF0YS5maXJzdE5hbWUpIHNhbml0aXplZERhdGEuZmlyc3ROYW1lID0gdGhpcy5zYW5pdGl6ZUlucHV0KGRhdGEuZmlyc3ROYW1lKVxuICAgIGlmIChkYXRhLmxhc3ROYW1lKSBzYW5pdGl6ZWREYXRhLmxhc3ROYW1lID0gdGhpcy5zYW5pdGl6ZUlucHV0KGRhdGEubGFzdE5hbWUpXG4gICAgaWYgKGRhdGEuc2VydmljZSkgc2FuaXRpemVkRGF0YS5zZXJ2aWNlID0gdGhpcy5zYW5pdGl6ZUlucHV0KGRhdGEuc2VydmljZSlcbiAgICBpZiAoZGF0YS5waG9uZSkgc2FuaXRpemVkRGF0YS5waG9uZSA9IHRoaXMuc2FuaXRpemVJbnB1dChkYXRhLnBob25lKVxuICAgIGlmIChkYXRhLmVtYWlsKSBzYW5pdGl6ZWREYXRhLmVtYWlsID0gdGhpcy5zYW5pdGl6ZUlucHV0KGRhdGEuZW1haWwpXG4gICAgaWYgKGRhdGEubm90ZXMpIHNhbml0aXplZERhdGEubm90ZXMgPSB0aGlzLnNhbml0aXplSW5wdXQoZGF0YS5ub3RlcylcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaWVsZHMgPSBPYmplY3Qua2V5cyhzYW5pdGl6ZWREYXRhKS5tYXAoa2V5ID0+IGAke2tleX0gPSA/YCkuam9pbignLCAnKVxuICAgICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhzYW5pdGl6ZWREYXRhKVxuICAgICAgXG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKGBVUERBVEUgYXBwb2ludG1lbnRzIFNFVCAke2ZpZWxkc30gV0hFUkUgaWQgPSA/YClcbiAgICAgIHN0bXQucnVuKC4uLnZhbHVlcywgaWQpXG5cbiAgICAgIGNvbnN0IGFwcG9pbnRtZW50ID0gdGhpcy5nZXRBcHBvaW50bWVudEJ5SWQoaWQpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBhcHBvaW50bWVudDogYXBwb2ludG1lbnQhIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgZXJyb3I6JywgZXJyb3IpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3JzOiBbJ0ZhaWxlZCB0byB1cGRhdGUgYXBwb2ludG1lbnQnXSB9XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIGFwcG9pbnRtZW50IHN0YXR1cyBvbmx5XG4gIHB1YmxpYyB1cGRhdGVBcHBvaW50bWVudFN0YXR1cyhpZDogc3RyaW5nLCBzdGF0dXM6ICdzY2hlZHVsZWQnIHwgJ2NvbXBsZXRlZCcgfCAnY2FuY2VsbGVkJyB8ICduby1zaG93Jyk6IHsgc3VjY2VzczogYm9vbGVhbjsgYXBwb2ludG1lbnQ/OiBBcHBvaW50bWVudDsgZXJyb3JzPzogc3RyaW5nW10gfSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0bXQgPSB0aGlzLmRiLnByZXBhcmUoYFxuICAgICAgICBVUERBVEUgYXBwb2ludG1lbnRzIFxuICAgICAgICBTRVQgc3RhdHVzID0gPywgdXBkYXRlZEF0ID0gZGF0ZXRpbWUoJ25vdycpXG4gICAgICAgIFdIRVJFIGlkID0gP1xuICAgICAgYClcblxuICAgICAgY29uc3QgcmVzdWx0ID0gc3RtdC5ydW4oc3RhdHVzLCBpZClcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdC5jaGFuZ2VzID09PSAwKSB7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcnM6IFsnQXBwb2ludG1lbnQgbm90IGZvdW5kJ10gfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBhcHBvaW50bWVudCA9IHRoaXMuZ2V0QXBwb2ludG1lbnRCeUlkKGlkKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgYXBwb2ludG1lbnQ6IGFwcG9pbnRtZW50ISB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0RhdGFiYXNlIGVycm9yOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yczogWydGYWlsZWQgdG8gdXBkYXRlIGFwcG9pbnRtZW50IHN0YXR1cyddIH1cbiAgICB9XG4gIH1cblxuICAvLyBEZWxldGUgYXBwb2ludG1lbnRcbiAgcHVibGljIGRlbGV0ZUFwcG9pbnRtZW50KGlkOiBzdHJpbmcpOiB7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9ycz86IHN0cmluZ1tdIH0ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG10ID0gdGhpcy5kYi5wcmVwYXJlKCdERUxFVEUgRlJPTSBhcHBvaW50bWVudHMgV0hFUkUgaWQgPSA/JylcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHN0bXQucnVuKGlkKVxuICAgICAgXG4gICAgICBpZiAocmVzdWx0LmNoYW5nZXMgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yczogWydBcHBvaW50bWVudCBub3QgZm91bmQnXSB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBlcnJvcjonLCBlcnJvcilcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcnM6IFsnRmFpbGVkIHRvIGRlbGV0ZSBhcHBvaW50bWVudCddIH1cbiAgICB9XG4gIH1cblxuICAvLyBHZXQgYXBwb2ludG1lbnQgc3RhdGlzdGljc1xuICBwdWJsaWMgZ2V0U3RhdHMoKTogeyBcbiAgICB0b3RhbDogbnVtYmVyOyBcbiAgICB0b2RheTogbnVtYmVyOyBcbiAgICB0aGlzV2VlazogbnVtYmVyOyBcbiAgICBieVN0YXR1czogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICB0b3RhbFJldmVudWU6IG51bWJlcjtcbiAgICB0b2RheVJldmVudWU6IG51bWJlcjtcbiAgICB0aGlzV2Vla1JldmVudWU6IG51bWJlcjtcbiAgICBwZW5kaW5nUmV2ZW51ZTogbnVtYmVyO1xuICAgIHRvZGF5UGVuZGluZ1JldmVudWU6IG51bWJlcjtcbiAgICB0aGlzV2Vla1BlbmRpbmdSZXZlbnVlOiBudW1iZXI7XG4gIH0ge1xuICAgIGNvbnN0IHRvdGFsID0gdGhpcy5kYi5wcmVwYXJlKCdTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSBhcHBvaW50bWVudHMnKS5nZXQoKSBhcyB7IGNvdW50OiBudW1iZXIgfVxuICAgIFxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cbiAgICBjb25zdCB0b2RheUNvdW50ID0gdGhpcy5kYi5wcmVwYXJlKCdTRUxFQ1QgQ09VTlQoKikgYXMgY291bnQgRlJPTSBhcHBvaW50bWVudHMgV0hFUkUgZGF0ZSA9ID8nKS5nZXQodG9kYXkpIGFzIHsgY291bnQ6IG51bWJlciB9XG4gICAgXG4gICAgY29uc3Qgd2Vla0FnbyA9IG5ldyBEYXRlKERhdGUubm93KCkgLSA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXG4gICAgY29uc3QgdGhpc1dlZWtDb3VudCA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIENPVU5UKCopIGFzIGNvdW50IEZST00gYXBwb2ludG1lbnRzIFdIRVJFIGRhdGUgPj0gPycpLmdldCh3ZWVrQWdvKSBhcyB7IGNvdW50OiBudW1iZXIgfVxuICAgIFxuICAgIGNvbnN0IGJ5U3RhdHVzID0gdGhpcy5kYi5wcmVwYXJlKCdTRUxFQ1Qgc3RhdHVzLCBDT1VOVCgqKSBhcyBjb3VudCBGUk9NIGFwcG9pbnRtZW50cyBHUk9VUCBCWSBzdGF0dXMnKS5hbGwoKSBhcyBBcnJheTx7IHN0YXR1czogc3RyaW5nOyBjb3VudDogbnVtYmVyIH0+XG4gICAgY29uc3Qgc3RhdHVzQ291bnRzID0gYnlTdGF0dXMucmVkdWNlKChhY2MsIHJvdykgPT4ge1xuICAgICAgYWNjW3Jvdy5zdGF0dXNdID0gcm93LmNvdW50XG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPilcblxuICAgIC8vIENvbXBsZXRlZCByZXZlbnVlIGNhbGN1bGF0aW9uc1xuICAgIGNvbnN0IHRvdGFsUmV2ZW51ZSA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIFNVTShzZXJ2aWNlUHJpY2UpIGFzIHJldmVudWUgRlJPTSBhcHBvaW50bWVudHMgV0hFUkUgc3RhdHVzID0gPycpLmdldCgnY29tcGxldGVkJykgYXMgeyByZXZlbnVlOiBudW1iZXIgfCBudWxsIH1cbiAgICBjb25zdCB0b2RheVJldmVudWUgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBTVU0oc2VydmljZVByaWNlKSBhcyByZXZlbnVlIEZST00gYXBwb2ludG1lbnRzIFdIRVJFIGRhdGUgPSA/IEFORCBzdGF0dXMgPSA/JykuZ2V0KHRvZGF5LCAnY29tcGxldGVkJykgYXMgeyByZXZlbnVlOiBudW1iZXIgfCBudWxsIH1cbiAgICBjb25zdCB0aGlzV2Vla1JldmVudWUgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBTVU0oc2VydmljZVByaWNlKSBhcyByZXZlbnVlIEZST00gYXBwb2ludG1lbnRzIFdIRVJFIGRhdGUgPj0gPyBBTkQgc3RhdHVzID0gPycpLmdldCh3ZWVrQWdvLCAnY29tcGxldGVkJykgYXMgeyByZXZlbnVlOiBudW1iZXIgfCBudWxsIH1cblxuICAgIC8vIFBlbmRpbmcgcmV2ZW51ZSBjYWxjdWxhdGlvbnMgKHNjaGVkdWxlZCBhcHBvaW50bWVudHMpXG4gICAgY29uc3QgcGVuZGluZ1JldmVudWUgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBTVU0oc2VydmljZVByaWNlKSBhcyByZXZlbnVlIEZST00gYXBwb2ludG1lbnRzIFdIRVJFIHN0YXR1cyA9ID8nKS5nZXQoJ3NjaGVkdWxlZCcpIGFzIHsgcmV2ZW51ZTogbnVtYmVyIHwgbnVsbCB9XG4gICAgY29uc3QgdG9kYXlQZW5kaW5nUmV2ZW51ZSA9IHRoaXMuZGIucHJlcGFyZSgnU0VMRUNUIFNVTShzZXJ2aWNlUHJpY2UpIGFzIHJldmVudWUgRlJPTSBhcHBvaW50bWVudHMgV0hFUkUgZGF0ZSA9ID8gQU5EIHN0YXR1cyA9ID8nKS5nZXQodG9kYXksICdzY2hlZHVsZWQnKSBhcyB7IHJldmVudWU6IG51bWJlciB8IG51bGwgfVxuICAgIGNvbnN0IHRoaXNXZWVrUGVuZGluZ1JldmVudWUgPSB0aGlzLmRiLnByZXBhcmUoJ1NFTEVDVCBTVU0oc2VydmljZVByaWNlKSBhcyByZXZlbnVlIEZST00gYXBwb2ludG1lbnRzIFdIRVJFIGRhdGUgPj0gPyBBTkQgc3RhdHVzID0gPycpLmdldCh3ZWVrQWdvLCAnc2NoZWR1bGVkJykgYXMgeyByZXZlbnVlOiBudW1iZXIgfCBudWxsIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0b3RhbDogdG90YWwuY291bnQsXG4gICAgICB0b2RheTogdG9kYXlDb3VudC5jb3VudCxcbiAgICAgIHRoaXNXZWVrOiB0aGlzV2Vla0NvdW50LmNvdW50LFxuICAgICAgYnlTdGF0dXM6IHN0YXR1c0NvdW50cyxcbiAgICAgIHRvdGFsUmV2ZW51ZTogdG90YWxSZXZlbnVlLnJldmVudWUgfHwgMCxcbiAgICAgIHRvZGF5UmV2ZW51ZTogdG9kYXlSZXZlbnVlLnJldmVudWUgfHwgMCxcbiAgICAgIHRoaXNXZWVrUmV2ZW51ZTogdGhpc1dlZWtSZXZlbnVlLnJldmVudWUgfHwgMCxcbiAgICAgIHBlbmRpbmdSZXZlbnVlOiBwZW5kaW5nUmV2ZW51ZS5yZXZlbnVlIHx8IDAsXG4gICAgICB0b2RheVBlbmRpbmdSZXZlbnVlOiB0b2RheVBlbmRpbmdSZXZlbnVlLnJldmVudWUgfHwgMCxcbiAgICAgIHRoaXNXZWVrUGVuZGluZ1JldmVudWU6IHRoaXNXZWVrUGVuZGluZ1JldmVudWUucmV2ZW51ZSB8fCAwXG4gICAgfVxuICB9XG5cbiAgLy8gQ2xvc2UgZGF0YWJhc2UgY29ubmVjdGlvblxuICBwdWJsaWMgY2xvc2UoKTogdm9pZCB7XG4gICAgdGhpcy5kYi5jbG9zZSgpXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YWJhc2VNYW5hZ2VyXG4iXSwibmFtZXMiOlsiRGF0YWJhc2UiLCJqb2luIiwiU0VSVklDRV9QUklDRVMiLCJEYXRhYmFzZU1hbmFnZXIiLCJkYlBhdGgiLCJwcm9jZXNzIiwiY3dkIiwiZnMiLCJyZXF1aXJlIiwiZGF0YURpciIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJkYiIsInZlcmJvc2UiLCJjb25zb2xlIiwibG9nIiwidW5kZWZpbmVkIiwicHJhZ21hIiwiaW5pdGlhbGl6ZVRhYmxlcyIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJjcmVhdGVBcHBvaW50bWVudHNUYWJsZSIsImNyZWF0ZUluZGV4ZXMiLCJjcmVhdGVUcmlnZ2VyIiwiZXhlYyIsInByZXBhcmUiLCJnZXQiLCJlcnJvciIsImdldFNlcnZpY2VQcmljZSIsInNlcnZpY2VOYW1lIiwibm9ybWFsaXplZFNlcnZpY2UiLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJ2YWxpZGF0ZUFwcG9pbnRtZW50IiwiZGF0YSIsImVycm9ycyIsImZpcnN0TmFtZSIsImxlbmd0aCIsInB1c2giLCJsYXN0TmFtZSIsInNlcnZpY2UiLCJzZXJ2aWNlUHJpY2UiLCJkYXRlIiwidGVzdCIsInRpbWUiLCJwaG9uZSIsImVtYWlsIiwiaW5jbHVkZXMiLCJub3RlcyIsInN0YXR1cyIsImlzVmFsaWQiLCJzYW5pdGl6ZUlucHV0IiwiaW5wdXQiLCJ0cmltIiwiZ2V0QXBwb2ludG1lbnRzIiwiZmlsdGVycyIsInF1ZXJ5IiwicGFyYW1zIiwiY29uZGl0aW9ucyIsInN0bXQiLCJhbGwiLCJnZXRBcHBvaW50bWVudEJ5SWQiLCJpZCIsImNyZWF0ZUFwcG9pbnRtZW50IiwidmFsaWRhdGlvbiIsInN1Y2Nlc3MiLCJzYW5pdGl6ZWREYXRhIiwiRGF0ZSIsIm5vdyIsInRvU3RyaW5nIiwiTWF0aCIsInJhbmRvbSIsInN1YnN0ciIsInRvSVNPU3RyaW5nIiwicnVuIiwiYXBwb2ludG1lbnQiLCJ1cGRhdGVBcHBvaW50bWVudCIsImV4aXN0aW5nIiwiZmllbGRzIiwiT2JqZWN0Iiwia2V5cyIsIm1hcCIsImtleSIsInZhbHVlcyIsInVwZGF0ZUFwcG9pbnRtZW50U3RhdHVzIiwicmVzdWx0IiwiY2hhbmdlcyIsImRlbGV0ZUFwcG9pbnRtZW50IiwiZ2V0U3RhdHMiLCJ0b3RhbCIsInRvZGF5Iiwic3BsaXQiLCJ0b2RheUNvdW50Iiwid2Vla0FnbyIsInRoaXNXZWVrQ291bnQiLCJieVN0YXR1cyIsInN0YXR1c0NvdW50cyIsInJlZHVjZSIsImFjYyIsInJvdyIsImNvdW50IiwidG90YWxSZXZlbnVlIiwidG9kYXlSZXZlbnVlIiwidGhpc1dlZWtSZXZlbnVlIiwicGVuZGluZ1JldmVudWUiLCJ0b2RheVBlbmRpbmdSZXZlbnVlIiwidGhpc1dlZWtQZW5kaW5nUmV2ZW51ZSIsInRoaXNXZWVrIiwicmV2ZW51ZSIsImNsb3NlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/database.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fappointments%2Froute&page=%2Fapi%2Fadmin%2Fappointments%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fappointments%2Froute.ts&appDir=%2FUsers%2Fsurafellemma%2FDesktop%2FFifi%20Hair%20Salon%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsurafellemma%2FDesktop%2FFifi%20Hair%20Salon&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();
(()=>{var e={};e.id=355,e.ids=[355],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1322:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,originalPathname:()=>d,pages:()=>m,routeModule:()=>x,tree:()=>c}),s(6029),s(3769),s(5866);var i=s(3191),o=s(8716),r=s(7922),a=s.n(r),n=s(5231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["booking",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6029)),"/Users/surafellemma/Desktop/Fifi Hair Salon/app/booking/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,3769)),"/Users/surafellemma/Desktop/Fifi Hair Salon/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],m=["/Users/surafellemma/Desktop/Fifi Hair Salon/app/booking/page.tsx"],d="/booking/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/booking/page",pathname:"/booking",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9793:(e,t,s)=>{Promise.resolve().then(s.bind(s,4088))},4088:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var i=s(326),o=s(8404),r=s(7577);let a=process.env.NEXT_PUBLIC_CALENDLY_URL,n=["9:00 AM","9:30 AM","10:00 AM","10:30 AM","11:00 AM","11:30 AM","12:00 PM","12:30 PM","1:00 PM","1:30 PM","2:00 PM","2:30 PM","3:00 PM","3:30 PM","4:00 PM","4:30 PM","5:00 PM","5:30 PM"];function l(){let{t:e}=(0,o.$)(),[t,s]=(0,r.useState)({firstName:"",lastName:"",phone:"",email:"",service:"",date:"",time:"",notes:""}),[l,c]=(0,r.useState)(!1),[m,d]=(0,r.useState)({}),[u,x]=(0,r.useState)(!1);(0,r.useMemo)(()=>{let t=[];return e.services.categories.forEach(e=>{e.items.forEach(s=>{t.push({value:s.name.toLowerCase().replace(/\s+/g,"-"),label:`${s.name} - ${s.price}`,category:e.name})})}),t},[e.services.categories]);let p=e=>{let{name:t,value:i}=e.target;s(e=>({...e,[t]:i})),m[t]&&d(e=>({...e,[t]:""}))},b=()=>{let s={};return t.firstName.trim()||(s.firstName=e.booking.form.required),t.lastName.trim()||(s.lastName=e.booking.form.required),t.phone.trim()||(s.phone=e.booking.form.required),t.email.trim()||(s.email=e.booking.form.required),t.service||(s.service=e.booking.form.required),t.date||(s.date=e.booking.form.required),t.time||(s.time=e.booking.form.required),t.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)&&(s.email=e.booking.form.invalidEmail),t.phone&&!/^[\d\s\-\+\(\)]+$/.test(t.phone)&&(s.phone=e.booking.form.invalidPhone),t.date&&new Date(t.date)<new Date&&(s.date=e.booking.form.pastDate),d(s),0===Object.keys(s).length},h=async e=>{if(e.preventDefault(),b())try{let e=await fetch("/api/admin/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(e.ok)c(!0),setTimeout(()=>{c(!1),s({firstName:"",lastName:"",phone:"",email:"",service:"",date:"",time:"",notes:""})},3e3);else{let t=await e.json();console.error("Booking failed:",t),c(!0),setTimeout(()=>{c(!1),s({firstName:"",lastName:"",phone:"",email:"",service:"",date:"",time:"",notes:""})},3e3)}}catch(e){console.error("Booking error:",e),c(!0),setTimeout(()=>{c(!1),s({firstName:"",lastName:"",phone:"",email:"",service:"",date:"",time:"",notes:""})},3e3)}},f=(0,r.useMemo)(()=>({"@context":"https://schema.org","@type":"BeautySalon",name:"Fifi Hair Salon",address:{"@type":"PostalAddress",streetAddress:"123 Beauty St",addressLocality:"Hair City",postalCode:"00000",addressCountry:"US"},telephone:"+1-555-123-1234",url:"https://fifi-salon.example",sameAs:["https://instagram.com/your-salon","https://facebook.com/your-salon"]}),[]);return(0,i.jsxs)("main",{className:"container py-16 bg-gradient-to-br from-pink-light to-green-light min-h-screen",children:[(0,i.jsxs)("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"mb-6",children:(0,i.jsxs)("a",{href:"/",className:"inline-flex items-center gap-2 text-accent hover:text-accent-strong transition-colors",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]})}),(0,i.jsxs)("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"font-serif text-4xl md:text-5xl text-ink",children:e.booking.title}),i.jsx("p",{className:"mt-4 text-lg text-muted",children:e.booking.subtitle})]}),a?(0,i.jsxs)("div",{className:"mt-8",children:[i.jsx("div",{className:"calendly-inline-widget rounded-2xl ring-1 ring-black/5 shadow-soft","data-url":a,style:{minWidth:"320px",height:740}}),i.jsx("noscript",{children:i.jsx("a",{className:"underline",href:a,children:"Open booking"})})]}):(0,i.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-soft ring-1 ring-accent/20 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-accent/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-accent/10 rounded-full blur-2xl"}),(0,i.jsxs)("form",{onSubmit:h,className:"space-y-6 relative z-10",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h2",{className:"font-serif text-2xl text-ink mb-4",children:[e.booking.form.firstName," & ",e.booking.form.lastName]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.firstName," *"]}),i.jsx("input",{id:"firstName",name:"firstName",type:"text",value:t.firstName,onChange:p,className:`w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ${m.firstName?"border-red-500":"border-accent/30 hover:border-accent/50"}`,placeholder:e.booking.form.firstName}),m.firstName&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.firstName})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.lastName," *"]}),i.jsx("input",{id:"lastName",name:"lastName",type:"text",value:t.lastName,onChange:p,className:`w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ${m.lastName?"border-red-500":"border-accent/30 hover:border-accent/50"}`,placeholder:e.booking.form.lastName}),m.lastName&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.lastName})]})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.phone," *"]}),i.jsx("input",{id:"phone",name:"phone",type:"tel",value:t.phone,onChange:p,className:`w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ${m.phone?"border-red-500":"border-accent/30 hover:border-accent/50"}`,placeholder:"(555) 123-4567"}),m.phone&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.phone})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.email," *"]}),i.jsx("input",{id:"email",name:"email",type:"email",value:t.email,onChange:p,className:`w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ${m.email?"border-red-500":"border-accent/30 hover:border-accent/50"}`,placeholder:"your@email.com"}),m.email&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.email})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx("h2",{className:"font-serif text-2xl text-ink mb-4",children:e.booking.form.service}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"service",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.service," *"]}),(0,i.jsxs)("select",{id:"service",name:"service",value:t.service,onChange:p,className:`w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ${m.service?"border-red-500":"border-accent/30 hover:border-accent/50"}`,children:[i.jsx("option",{value:"",children:"Select a service"}),e.services.categories.map(e=>i.jsx("optgroup",{label:e.name,children:e.items.map(e=>(0,i.jsxs)("option",{value:e.name.toLowerCase().replace(/\s+/g,"-"),children:[e.name," - ",e.price]},e.name))},e.name))]}),m.service&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.service}),i.jsx("p",{className:"mt-2 text-xs text-muted italic",children:e.services.priceNote})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h2",{className:"font-serif text-2xl text-ink mb-4",children:[e.booking.form.date," & ",e.booking.form.time]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"date",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.date," *"]}),i.jsx("input",{id:"date",name:"date",type:"date",value:t.date,onChange:p,min:new Date().toISOString().split("T")[0],className:`w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ${m.date?"border-red-500":"border-accent/30 hover:border-accent/50"}`}),m.date&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.date})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{htmlFor:"time",className:"block text-sm font-medium text-ink mb-2",children:[e.booking.form.time," *"]}),(0,i.jsxs)("select",{id:"time",name:"time",value:t.time,onChange:p,className:`w-full rounded-full border px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors ${m.time?"border-red-500":"border-accent/30 hover:border-accent/50"}`,children:[i.jsx("option",{value:"",children:"Choose a time"}),n.map(e=>i.jsx("option",{value:e,children:e},e))]}),m.time&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:m.time})]})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-ink mb-2",children:e.booking.form.notes}),i.jsx("textarea",{id:"notes",name:"notes",value:t.notes,onChange:p,rows:4,className:"w-full rounded-2xl border border-accent/30 px-4 py-3 focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors hover:border-accent/50",placeholder:e.booking.form.notesPlaceholder})]}),(0,i.jsxs)("div",{className:"pt-4",children:[i.jsx("button",{type:"submit",disabled:l,className:"w-full rounded-full px-8 py-4 text-lg font-medium shadow-sm bg-gradient-to-r from-accent to-green-accent hover:from-accent-strong hover:to-green-accent/80 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105",children:l?e.booking.form.submitted:e.booking.form.submit}),l&&i.jsx("div",{className:"mt-4 p-6 bg-green-50 border border-green-200 rounded-2xl",children:(0,i.jsxs)("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:"\uD83C\uDF89"}),i.jsx("p",{className:"text-green-800 text-lg font-medium mb-2",children:e.booking.form.successMessage}),i.jsx("p",{className:"text-green-700 text-sm",children:"Your appointment has been successfully booked and will appear in the admin dashboard."})]})})]})]})]})]}),i.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(f)}})]})}},6029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>r,default:()=>n});var i=s(8570);let o=(0,i.createProxy)(String.raw`/Users/surafellemma/Desktop/Fifi Hair Salon/app/booking/page.tsx`),{__esModule:r,$$typeof:a}=o;o.default;let n=(0,i.createProxy)(String.raw`/Users/surafellemma/Desktop/Fifi Hair Salon/app/booking/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[948,353,949],()=>s(1322));module.exports=i})();
(()=>{var e={};e.id=128,e.ids=[128],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7777:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(5926),r(3769),r(5866);var a=r(3191),s=r(8716),i=r(7922),n=r.n(i),o=r(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["admin-verify",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5926)),"/Users/surafellemma/Desktop/Fifi Hair Salon/app/admin-verify/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,3769)),"/Users/surafellemma/Desktop/Fifi Hair Salon/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/surafellemma/Desktop/Fifi Hair Salon/app/admin-verify/page.tsx"],u="/admin-verify/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin-verify/page",pathname:"/admin-verify",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3833:(e,t,r)=>{Promise.resolve().then(r.bind(r,3982))},3982:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(326),s=r(5047),i=r(7577);function n(){let e=(0,s.useRouter)(),[t,r]=(0,i.useState)(""),[n,o]=(0,i.useState)(!1),[l,d]=(0,i.useState)(""),c=async r=>{if(r.preventDefault(),o(!0),d(""),5!==t.length){d("Please enter a 5-digit OTP"),o(!1);return}try{let r=await fetch("/api/admin/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({otp:t})}),a=await r.json();r.ok?(localStorage.setItem("admin_authenticated","true"),localStorage.setItem("admin_login_time",Date.now().toString()),e.push("/admin-dashboard")):d(a.error||"Invalid OTP. Please try again.")}catch(e){d("Network error. Please try again.")}finally{o(!1)}},u=async()=>{o(!0),d("");try{let e=await fetch("/api/admin/send-otp",{method:"POST",headers:{"Content-Type":"application/json"}}),t=await e.json();e.ok?(d(""),alert("New OTP sent to your phone!")):d(t.error||"Failed to resend OTP. Please try again.")}catch(e){d("Network error. Please try again.")}finally{o(!1)}};return a.jsx("main",{className:"min-h-screen bg-gradient-to-br from-pink-light to-green-light flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-soft ring-1 ring-accent/20 max-w-md w-full relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-accent/10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-accent/10 rounded-full blur-2xl"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"font-serif text-3xl text-ink mb-2",children:"Verify OTP"}),a.jsx("p",{className:"text-muted",children:"Enter the 5-digit code sent to your phone"})]}),l&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-2xl",children:a.jsx("p",{className:"text-red-800 text-center",children:l})}),(0,a.jsxs)("form",{onSubmit:c,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-ink mb-2",children:"Enter OTP"}),a.jsx("input",{id:"otp",type:"text",value:t,onChange:e=>r(e.target.value.replace(/\D/g,"").slice(0,5)),placeholder:"12345",className:"w-full rounded-full border border-accent/30 px-4 py-3 text-center text-2xl font-mono focus-visible:outline focus-visible:outline-2 focus-visible:outline-accent transition-colors hover:border-accent/50",maxLength:5,required:!0})]}),a.jsx("button",{type:"submit",disabled:n||5!==t.length,className:"w-full rounded-full px-8 py-4 text-lg font-medium shadow-sm bg-gradient-to-r from-accent to-green-accent hover:from-accent-strong hover:to-green-accent/80 text-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105",children:n?"Verifying...":"Verify OTP"}),(0,a.jsxs)("div",{className:"text-center space-y-2",children:[a.jsx("button",{type:"button",onClick:u,disabled:n,className:"text-sm text-muted hover:text-ink transition-colors disabled:opacity-50",children:"Resend OTP"}),a.jsx("div",{children:a.jsx("a",{href:"/admin-login",className:"text-sm text-muted hover:text-ink transition-colors",children:"← Back to Login"})})]})]})]})]})})}},5047:(e,t,r)=>{"use strict";var a=r(7389);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},5926:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var a=r(8570);let s=(0,a.createProxy)(String.raw`/Users/surafellemma/Desktop/Fifi Hair Salon/app/admin-verify/page.tsx`),{__esModule:i,$$typeof:n}=s;s.default;let o=(0,a.createProxy)(String.raw`/Users/surafellemma/Desktop/Fifi Hair Salon/app/admin-verify/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,353,949],()=>r(7777));module.exports=a})();